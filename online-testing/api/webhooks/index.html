<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
<head>
<title>Quiz Maker WebHooks Exam Results in Real Time</title>
<meta charset="UTF-8">
<meta name="description" content="Quiz Maker WebHooks Exam Results in Real Time. free quiz maker to create online exams.">
<meta name="keywords" content="Real Time Quiz Results with WebHooks, quiz maker, online testing, exams, assessments, employment tests, custom exams.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="../../../favicon.ico">

<link rel="canonical" href="index.html" >
<meta property="og:type" content="article" >
<meta property="article:publisher" content="https://www.facebook.com/classmarker/" >
<meta property="og:locale" content="en_US" >
<meta property="og:title" content="Quiz Maker WebHooks Exam Results in Real Time" >
<meta property="og:description" content="Quiz Maker WebHooks Exam Results in Real Time. free quiz maker to create online exams." >
<meta property="og:url" content="https://www.classmarker.com/online-testing/api/webhooks/" >
<meta property="og:site_name" content="ClassMarker Online Quiz Maker" >
<meta property="og:image" content="https://www.classmarker.com/img3/promo/classmarker_promo_back_1.jpg" >
<meta property="og:image:width" content="851" >
<meta property="og:image:height" content="315" >
<meta property="og:image:alt" content="ClassMarker.com image of a lady taking an online exam" >

<meta name="twitter:card" content="summary_large_image" >
<meta name="twitter:description" content="Quiz Maker WebHooks Exam Results in Real Time. free quiz maker to create online exams." >
<meta name="twitter:title" content="Quiz Maker WebHooks Exam Results in Real Time" >
<meta name="twitter:site" content="@classmarker" >
<meta name="twitter:image" content="https://www.classmarker.com/img3/promo/twitter_card_promo_back_1.jpg" >
<meta name="twitter:image:alt" content="ClassMarker.com image of a lady taking an online exam" >
<meta name="twitter:creator" content="@classmarker" >
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "ClassMarker",
  "url": "https://www.classmarker.com",
  "logo": "https://www.classmarker.com/img3/retina/quiz-maker3x.jpg",
  "sameAs": [
    "https://www.facebook.com/ClassMarker",
    "https://twitter.com/ClassMarker",
    "https://www.linkedin.com/company/classmarker-pty-ltd/",
    "https://www.youtube.com/user/classmarker",
    "https://www.pinterest.com.au/ClassMarkercom/",
    "https://www.instagram.com/classmarker/"
  ]
}
</script>
	    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5DGG58D');</script>
    <!-- End Google Tag Manager -->

<script async src="https://www.googletagmanager.com/gtag/js?id=AW-791178814"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-791178814'); </script>
	<link rel="stylesheet" type="text/css" href="../../../css3/home/cmhome.css?v=332" media="all" >
		<script>
	var web_root = "/";
	var webpath_img = "/img3/";
	var s3_assets_path = "https://";
	var asset_ref_dir = new Array(
	    /(0\/)/,
	    /(1\/)/,
	    /(2\/)/
	);
	var asset_actual_dir = new Array(
	    'https://0cm.classmarker.com/',
	    'https://1cm.classmarker.com/',
	    'https://2cm.classmarker.com/'
	);
	</script>

	<script src="../../../js3/jquery-2.2.4.min.js" ></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" ></head>
<body>
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5DGG58D"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- END Google Tag Manager (noscript) -->
	<div id="header">
		<header class="col-full">
			<div class="h1" itemscope itemtype="http://schema.org/Organization">
				<a itemprop="url" href="../../../index.html">
					<img itemprop="logo" alt="Quiz Maker" src="../../../img3/retina/quiz-maker1x.jpg" srcset="../../../img3/retina/quiz-maker1x.jpg 1x, ../../../img3/retina/quiz-maker2x.jpg 2x, ../../../img3/retina/quiz-maker3x.jpg 3x" width="205" height="31">
					<span>ClassMarker Online quiz maker</span>
				</a>
			</div>

							<div class="header-buttons">
				<a class="register" href="../../../register/index.html">Register</a>
				<a class="login" href="../../../index.html">Log in</a>
				</div>
						</header>

		<div class="nav">
			<nav class="col-full">
				<ul id="menu">
					<li><a href="../../../index.html">Home</a></li>
					<li><a href="../../how-to-create-online-quiz/index.html">Take a Tour</a></li>
					<li><a href="../../price/index.html">Pricing</a></li>
					<li><a href="../../faq/index.html">FAQ</a></li>
					<li><a href="../../contact-us/index.html">Contact Us</a></li>
				</ul>
			</nav>
		</div>
	</div>



<div id="features-box" class="features-box2">
	<div class="col-full">
		<div class="api-content">




			<ul id="crumbtrail">
				<li><a href="../../docs/index.html">Back to Integrate Overview</a> &gt;</li>
				<li>Real Time Quiz Results with WebHooks</li>
			</ul>
			<div class="clear"></div>
			<h1>Real Time Quiz Results with WebHooks</h1>


			<div class="clearheight30"></div>

			<div class="alert-box error editor "><h4>New documentation available</h4><br>
				This page is now replaced with our new and updated developer documentation which has more options available.<br><br>
				<a class="btn btn-create" href="../../docs/index.html">Go to our updated Developer documentation</a><br><br></div>
			<p>ClassMarker has two integration options for automatically receiving Test results back to your systems/website, <strong>Webhooks</strong> or <strong>API</strong>.</p>
			<p>You can select which option best suits your requirements, or even use both if you need:</p>
			<div class="api-link-box-container">
				<div class="api-link-box">
					<h4 class="active"><i class="fa fa-paper-plane" aria-hidden="true"></i> Webhooks Documentation</h4>
					<p>Webhooks allow your Web developers to have Test results securely delivered to your systems/website in <strong>Real Time</strong>.</p>
					<p><strong>Example:</strong> On completion, Test results are delivered instantly.</p>
					View WebHooks Documentation below.
				</div>
			</div>
			<div class="api-link-box-container last">
				<div class="api-link-box">
					<h4><i class="fa fa-cloud" aria-hidden="true"></i> API Documentation</h4>
					<p>API keys allow your Web developers to have your systems/website securely request &amp; retrieve recent Test results <strong>Periodically</strong>.</p>
					<p><strong>Example:</strong> Requests for new Test results can be hourly.</p>
					Go to: <a href="../developers/index.html">API Documentation</a>

				</div>
			</div>



			<div class="clearheight30"></div>
			<div class="clearheight30"></div>

			<h3><i class="fa fa-paper-plane" aria-hidden="true"></i> Webhooks Documentation</h3>
			<div class="clearheight30"></div>
			<p><strong>IN A NUTSHELL:</strong> Webhooks can send your Test results to your website in JSON format in Real Time.</p>
			<p>Webhooks can be created (and verified by sending Sample Test results to your Endpoint URL) via your My account / Webhooks section of your ClassMarker account when logged in.</p>

			<div class="clearheight"></div>



			<div class="api-link-box-container">

				<div class="api-link-box">
					<h4>Webhook Payloads Examples</h4>
					<ul class="manual">
						<li><a href="index.html#grouppayloads">Group Results JSON Payload</a></li>
						<li><a href="index.html#linkpayloads">Link  Results JSON Payload</a></li>
						<li><a href="index.html#json_keys_explained">JSON Keys explained</a></li>
					</ul>
				</div>

				<div class="api-link-box">
					<h4>Retrieve Quiz Results via Webhooks</h4>
					<ul class="manual">
						<li><a href="index.html#codeexample">Sample Code [ PHP / Ruby / Python / Go / Node / C# / Java ]</a></li>
						<li><a href="index.html#databasescheme">Database Scheme</a></li>
						<li><a href="index.html#sendsample">Sending Sample Results</a></li>
						<li><a href="index.html#sendrealtime">Sending Results in Real Time</a></li>
						<li><a href="index.html#sendexisting">Send Existing Saved Results Manually</a></li>
						<li><a href="index.html#viewresultsurl">View Results URL</a></li>
						<li><a href="index.html#sendupdated">IMPORTANT: Receiving Updated Results</a></li>
						<li><a href="index.html#htmlformatting">HTML formatting in Exam Questions &amp; Feedback</a></li>
						<li><a href="index.html#versioning">Version control</a></li>
					</ul>
				</div>

				<div class="api-link-box">
					<h4>Verification</h4>
					<ul class="manual">
						<li><a href="index.html#verify">How to Verifiy Webhook Payloads</a></li>
					</ul>
				</div>

			</div>

			<div class="api-link-box-container last">

				<div class="api-link-box">
					<h4>What are Groups &amp; Links?</h4>
					<ul class="manual">
						<li><a href="index.html#explain">Groups &amp; Links explained</a></li>
					</ul>
				</div>

				<div class="api-link-box">
					<h4>Responding to a Webhooks</h4>
					<ul class="manual">
						<li><a href="index.html#respondwebhook">How Your Server Should Respond</a></li>
					</ul>
				</div>

				<div class="api-link-box">
					<h4>Failed Payload <i>Retry</i> Rules</h4>
					<ul class="manual">
						<li><a href="index.html#retryrules">View details</a></li>
					</ul>
				</div>


				<div class="api-link-box">
					<h4>Pass Data to ClassMarker (Pre Test)</h4>
					<ul class="manual">
						<li><a href="index.html#passdata">View details</a></li>
					</ul>
				</div>

				<div class="api-link-box">
					<h4>Third Party Integrations</h4>
					<ul class="manual">
						<li><a href="index.html#thirdparty">View details</a></li>
					</ul>
				</div>

			</div>


			<div class="clearheight30"></div>











			<a id="grouppayloads"></a>
			<div class="manualItem">
				<h3>Webhook Payloads Examples</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>
				<div class="clearheight"></div>

				<p class="section-title"><strong>Groups:</strong> Single Test Result Payload Example </p>


				<hr class="solid">
				<div class="clearheight"></div>


				<div class="row">
					<div class="col-span-8"><p>Example JSON format for a Single Test result taken by a user registered under a <strong>Group</strong>.</p></div>
					<div class="col-span-2 col-btns"><p><span class="wonderBtn selected"><a href="index.html#" id="togmulti_dev_notes_groups">Toggle Comments</a></span></p></div>
				</div>

				<div class="cmcode-box">
					

	<pre><span class="cmcode-brackets">{</span>
   <span class="cmcode-names">"payload_type"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"single_user_test_results_group"</span><span class="cmcode-brackets">,</span>
   <span class="cmcode-names">"payload_status"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"live"</span><span class="cmcode-brackets">,</span>       <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// "live": Actual Results. "verify": Sample Results when setting up the Webhook from within your account.</span>
   <span class="cmcode-names">"test"</span><span class="cmcode-brackets">:{</span>
      <span class="cmcode-names">"test_id"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">103</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"test_name"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"Sample Test Name"</span>
   <span class="cmcode-brackets">},</span>
   <span class="cmcode-names">"group"</span><span class="cmcode-brackets">:{</span>
      <span class="cmcode-names">"group_id"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">104</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"group_name"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"Sample Group Name"</span>
   <span class="cmcode-brackets">},</span>
   <span class="cmcode-names">"result"</span><span class="cmcode-brackets">:{</span>
      <span class="cmcode-names">"user_id"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"3276524"</span><span class="cmcode-brackets">,</span>        <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Each registered User has a unique ID user_id in ClassMarker.</span>
      <span class="cmcode-names">"first"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"Mary"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"last"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"Williams"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"email"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"mary@example.com"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">75.0</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">9.0</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">12.0</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"requires_grading"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"Yes"</span><span class="cmcode-brackets">,</span>   <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Only Exams that include "Essay" style questions will require grading <a href="index.html#sendupdated">Learn more</a>.</span>
      <span class="cmcode-names">"time_started"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">1436263102</span><span class="cmcode-brackets">,</span>  <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Never changes per result.</span>
      <span class="cmcode-names">"time_finished"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">1436263702</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Can update on re-sends (EG: An Exam is re-opened by an Administrator to give a User more time).</span>
      <span class="cmcode-names">"duration"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"00:05:40"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"percentage_passmark"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-num">50</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"passed"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-bool">true</span><span class="cmcode-brackets">,</span>              <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// true/false  Note: If no "Passmark" is set for an exam, "true" will be used.</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"Thanks for completing our Exam!"</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Overall exam feedback as set by Administrators. Feedback is optional.</span>
      <span class="cmcode-names">"give_certificate_only_when_passed"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-bool">false</span><span class="cmcode-brackets">,</span>    <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// true/false  Exams can be setup to disallow certificate downloading if a User fails the Exam.</span>
      <span class="cmcode-names">"certificate_url"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"https://www.classmarker.com/pdf/certificate/SampleCertificate.pdf"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"certificate_serial"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"CLPPYQSBSY-ZZVKJGQH-XHWMMRCHYT"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"view_results_url"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"https://www.classmarker.com/view/results/?required_parameters_here"</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Unique URL per Test result for viewing formatted Test results back on ClassMarker (without being logged into a ClassMarker account). An Access control password is required for viewing access. Set this password on your My account page.</span>
   <span class="cmcode-brackets">},</span>
  <span  class="cmcode-names">"questions"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">[</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Questions, User Responses and Category Results are only included if selected in your <a href="../../manual/index.html#api_webhooks">Webhook settings</a>.</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3542854</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"multiplechoice"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>     <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Points can be to one decimal place.</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"What is the first step for treating a skin burn?"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Apply oil or butter"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Nothing should be done"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"C"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Soak in water for five minutes"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"D"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Apply antibiotic ointment"</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"C"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>           <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Points can be to one decimal place.</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"C"</span><span class="cmcode-brackets">,</span>         <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// If Question was not answered, "user_response" key will not exist.</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>          <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Possible Values: correct / partial_correct / incorrect / requires_grading / unanswered.</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Great, and remember, never use oil on Skin burns!"</span><span class="cmcode-brackets"> </span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Optional: Question Feedback. If no Question Feedback is set, "feedback" key will not exist</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">10254859</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"multiplechoice"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Select the options you should take when the fire alarm sounds:"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Call you manager to see if you can leave the building"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exit the building immediately"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"C"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Use the Lifts to exit faster"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"D"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Use the stairwell to exit"</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B,D"</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Note this multiple choice question contains 2 correct options.</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"partial_correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"That is incorrect, the correct answers are A and C"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5485962</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"truefalse"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Our Support staff work 7 day a week"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"True"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"False"</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"That is correct, we provide 7 day support"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3896152</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"freetext"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Our company website is: www.______.com"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"exact_match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">[</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"example"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"example.com"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"www.example.com"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"http://www.example.com"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"https://www.example.com"</span>
          <span class="cmcode-brackets">}</span>
        <span class="cmcode-brackets">]</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"example"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Correct, always send our customers to our main website: www.example.com"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">6403973</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"matching"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">4</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Match the options below:"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Product faulty"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exchange or Refund"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Customer mis-used and broke product"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"No refund"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"C"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Customer broke factory seal"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"No refund"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Note: The Exam administrator has set two Matches to equal the same Clue "B".</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"D"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Incorrect product size purchased"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exchange"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"D"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"E"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Have customer removed by security"</span>  <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// This is a Incorrect Match with no corresponding Clue, these can be used to help make Matching Questions more difficult.</span>
        <span class="cmcode-brackets">}</span>
      <span class="cmcode-brackets">}</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"partial_correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Please check your incorrect matches"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">444564</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"essay"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Describe some advantages of having test papers graded instantly:"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">0</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Users can see their results instantly, grading is accurate, save time from manual grading"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"requires_grading"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"custom_feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">""</span><span class="cmcode-brackets">,</span>   <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// "custom_feedback" is only used for Essay Questions. Administrators can add when grading Essay Questions.</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Generic feedback here"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">442810</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"grammar"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"The car was parkked over their!"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"answer"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"The car was parked over there!"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"The car was parked over there!"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Well done!"</span>
    <span class="cmcode-brackets">}</span>
  <span class="cmcode-brackets">],</span>
  <span  class="cmcode-names">"category_results"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">[</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Category results from Questions are only included if selected in your <a href="../../manual/index.html#api_webhooks">Webhook settings</a>.</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Health and Safety"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">66.7</span><span class="cmcode-brackets">,</span>      <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Percentage can be to one decimal place.</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">6</span><span class="cmcode-brackets">,</span>   <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Points can be to one decimal place.</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">4</span>       <span class="cmcode-dev-notes dotogmulti_dev_notes_groups">// Points can be to one decimal place.</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exit Procedure"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">100</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"General Knowledge"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">100</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Sales"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">50</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span>
    <span class="cmcode-brackets">}</span>
  <span class="cmcode-brackets">]</span>
<span class="cmcode-brackets">}</span>
</pre>


				</div>
			</div>





			<a id="linkpayloads"></a>
			<div class="manualItem">
				<div class="floatl">
					<p class="section-title"><strong>Links:</strong> Single Test Result Payload Example </p>
				</div>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>

				<hr class="solid">
				<div class="clearheight"></div>


				<div class="row">
					<div class="col-span-8"><p>Example JSON format for a Single Test result taken via a <strong>Link</strong>.</p></div>
					<div class="col-span-2 col-btns"><p><span class="wonderBtn selected"><a href="index.html#" id="togmulti_dev_notes_links">Toggle Comments</a></span></p></div>
				</div>


				<div class="cmcode-box">
						<pre><span class="cmcode-brackets">{</span>
  <span class="cmcode-names">"payload_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"single_user_test_results_link"</span><span class="cmcode-brackets">,</span>
  <span class="cmcode-names">"payload_status"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"live"</span><span class="cmcode-brackets">,</span>        <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// "live": Actual Results. "verify": Sample Results when setting up the Webhook from within your account.</span>
  <span class="cmcode-names">"test"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
    <span class="cmcode-names">"test_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">100</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"test_name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Sample Test Name"</span>
  <span class="cmcode-brackets">},</span>
  <span class="cmcode-names">"link"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
    <span class="cmcode-names">"link_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">101</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"link_name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Sample Link Name"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"link_url_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"sample_quiz_id_123"</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// This is the Unique Identifier ID that is required to 'Start' a new Test (when taken via Links) EG: https://...?quiz=sample_quiz_id_123</span>
  <span class="cmcode-brackets">},</span>
  <span class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
    <span class="cmcode-names">"link_result_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">8127364</span><span class="cmcode-brackets">,</span>     <span class=" cmcode-dev-notes dotogmulti_dev_notes_links">// Each result will have a Unique ID.</span>
    <span class="cmcode-names">"first"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"John"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"last"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Smith"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"email"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"john@example.com"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">75.0</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">9.0</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">12.0</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"requires_grading"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Yes"</span><span class="cmcode-brackets">,</span>     <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Only Exams that include "Essay" style questions will require grading <a href="index.html#sendupdated">Learn more</a>.</span>
    <span class="cmcode-names">"time_started"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1436263522</span><span class="cmcode-brackets">,</span>    <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Never changes per result.</span>
    <span class="cmcode-names">"time_finished"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1436264122</span><span class="cmcode-brackets">,</span>   <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Can update on re-sends (EG: An Exam is re-opened by an Administrator to give a User more time).</span>
    <span class="cmcode-names">"duration"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"00:05:20"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"percentage_passmark"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">50</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"passed"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-bool">true</span><span class="cmcode-brackets">,</span>               <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// true/false  Note: If no "Passmark" is set for an exam, "true" will be used.</span>
    <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Thanks for completing our Exam!"</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Overall exam feedback as set by Administrators. Feedback is optional.</span>
    <span class="cmcode-names">"give_certificate_only_when_passed"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-bool">false</span><span class="cmcode-brackets">,</span>    <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// true/false  Exams can be setup to disallow certificate downloading if a User fails the Exam.</span>
    <span class="cmcode-names">"certificate_url"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"https://www.classmarker.com/pdf/certificate/SampleCertificate.pdf"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"certificate_serial"</span><span class="cmcode-brackets">:</span><span class="cmcode-value-str">"CLPPYQSBSY-ZZVKJGQH-XHWMMRCHYT"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"view_results_url"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"https://www.classmarker.com/view/results/?required_parameters_here"</span><span class="cmcode-brackets">,</span>  <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Unique URL per Test result for viewing formatted Test results back on ClassMarker (without being logged into a ClassMarker account). An Access control password is required for viewing access. Set this password on your My account page.</span>
    <span class="cmcode-names">"access_code_question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"What is your Employee ID?"</span><span class="cmcode-brackets">,</span>                  <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Access list usage is optional. <a href="../../manual/index.html#accesslists">Access lists</a>.</span>
    <span class="cmcode-names">"access_code_used"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"12345"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info_question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Which sales department are you assigned to?"</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Optional. Non graded questions asked before Exam is started.</span>
    <span class="cmcode-names">"extra_info_answer"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"New York Product 7 Divisiaon"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info2_question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Question 2 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info2_answer"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Answer 2 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info3_question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Question 3 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info3_answer"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Answer 3 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info4_question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Question 4 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info4_answer"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Answer 4 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info5_question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Question 5 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"extra_info5_answer"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Extra Information Answer 5 here"</span><span class="cmcode-brackets">,</span>
    <span class="cmcode-names">"cm_user_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"123456"</span><span class="cmcode-brackets">,</span>  <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Optional. The tracking IDs sent your system.  <a href="../../docs/index.html">Integration Options</a>.</span>
    <span class="cmcode-names">"ip_address"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"192.168.0.1"</span>
  <span class="cmcode-brackets">},</span>
  <span  class="cmcode-names">"questions"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">[</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Questions, User Responses and Category Results are only included if selected in your <a href="../../manual/index.html#api_webhooks">Webhook settings</a>.</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3542854</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"multiplechoice"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>     <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Points can be to one decimal place.</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"What is the first step for treating a skin burn?"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Apply oil or butter"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Nothing should be done"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"C"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Soak in water for five minutes"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"D"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Apply antibiotic ointment"</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"C"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>        <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Points can be to one decimal place.</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"C"</span><span class="cmcode-brackets">,</span>      <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// If Question was not answered, "user_response" key will not exist.</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>       <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Possible Values: correct / partial_correct / incorrect / requires_grading / unanswered.</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Great, and remember, never use oil on Skin burns!"</span><span class="cmcode-brackets"> </span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Optional: Question Feedback. If no Question Feedback is set, "feedback" key will not exist</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">10254859</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"multiplechoice"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Select the options you should take when the fire alarm sounds:"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Call you manager to see if you can leave the building"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exit the building immediately"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"C"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Use the Lifts to exit faster"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"D"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Use the stairwell to exit"</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B,D"</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Note this multiple choice question contains 2 correct options.</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span><span class="cmcode-brackets">,</span>    <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Only one option selected, hence 1/2 points awarded. Format for multiple selected options: A,B,C etc</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"partial_correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"That is incorrect, the correct answers are A and C"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5485962</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"truefalse"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Our Support staff work 7 day a week"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"True"</span><span class="cmcode-brackets">,</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"False"</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"That is correct, we provide 7 day support"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3896152</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"freetext"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Our company website is: www.______.com"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"exact_match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">[</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"example"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"example.com"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"www.example.com"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"http://www.example.com"</span>
          <span class="cmcode-brackets">},</span>
          <span class="cmcode-brackets">{</span>
            <span  class="cmcode-names">"content"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"https://www.example.com"</span>
          <span class="cmcode-brackets">}</span>
        <span class="cmcode-brackets">]</span>
      <span class="cmcode-brackets">},</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"example"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Correct, always send our customers to our main website: www.example.com"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">6403973</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"matching"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">4</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Match the options below:"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"options"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
        <span  class="cmcode-names">"A"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Product faulty"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exchange or Refund"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"B"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Customer mis-used and broke product"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"No refund"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"C"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Customer broke factory seal"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"No refund"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span><span class="cmcode-brackets">,</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Note: The Exam administrator has set two Matches to equal the same Clue "B".</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"B"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"D"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"clue"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Incorrect product size purchased"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exchange"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"correct_option"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"D"</span><span class="cmcode-brackets">,</span>
          <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"A"</span>
        <span class="cmcode-brackets">},</span>
        <span  class="cmcode-names">"E"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">{</span>
          <span  class="cmcode-names">"match"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Have customer removed by security"</span>  <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// This is a Incorrect Match with no corresponding Clue, these can be used to help make Matching Questions more difficult.</span>
        <span class="cmcode-brackets">}</span>
      <span class="cmcode-brackets">}</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"partial_correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Please check your incorrect matches"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">444564</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"essay"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Describe some advantages of having test papers graded instantly:"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">0</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Users can see their results instantly, grading is accurate, save time from manual grading"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"requires_grading"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"custom_feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">""</span><span class="cmcode-brackets">,</span>   <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// "custom_feedback" is only used for Essay Questions. Administrators can add when grading Essay Questions.</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Generic feedback here"</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"question_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">442810</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question_type"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"grammar"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"question"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"The car was parkked over their!"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"answer"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"The car was parked over there!"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"user_response"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"The car was parked over there!"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"result"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"correct"</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"feedback"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Well done!"</span>
    <span class="cmcode-brackets">}</span>
  <span class="cmcode-brackets">],</span>
  <span  class="cmcode-names">"category_results"</span><span class="cmcode-brackets">:</span> <span class="cmcode-brackets">[</span> <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Category results from Questions are only included if selected in your <a href="../../manual/index.html#api_webhooks">Webhook settings</a>.</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Health and Safety"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">66.7</span><span class="cmcode-brackets">,</span>      <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Percentage can be to one decimal place.</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">6</span><span class="cmcode-brackets">,</span>   <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Points can be to one decimal place.</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">4</span>       <span class="cmcode-dev-notes dotogmulti_dev_notes_links">// Points can be to one decimal place.</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Exit Procedure"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">100</span><span class="cmcode-brackets">,</span>
      <span class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">3</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"General Knowledge"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">100</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span>
    <span class="cmcode-brackets">},</span>
    <span class="cmcode-brackets">{</span>
      <span  class="cmcode-names">"category_id"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">5</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"name"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-str">"Sales"</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"percentage"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">50</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_available"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">2</span><span class="cmcode-brackets">,</span>
      <span  class="cmcode-names">"points_scored"</span><span class="cmcode-brackets">:</span> <span class="cmcode-value-num">1</span>
    <span class="cmcode-brackets">}</span>
  <span class="cmcode-brackets">]</span>
<span class="cmcode-brackets">}</span>

</pre>
				</div>
			</div>




			<a id="json_keys_explained"></a>
			<div class="manualItem">
				<h4 class="underline">JSON Keys explained</h4>

				<p>Also see comments within JSON examples above.</p>

				<div class="cmcode-box">
					<pre>

<span style="color: #000000">payload_type</span><span class="cmcode-brackets">:</span>     <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Verify if results where taken under ClassMarkers' "Group" or "Link" options. <a href="index.html#explain">Learn more</a>.</span>
<span style="color: #000000">payload_status</span><span class="cmcode-brackets">:</span>   <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">live: Actual Results. verify: Sample Results sent when setting up your Webhook from within your account.</span>


                  <span style="color: #ce5c00; font-weight: bold">##</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">Group results:</span> Identify unique individuals results using a combination of:</span>

<span style="color: #000000">user_id</span><span class="cmcode-brackets">:</span>          <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each registered User has a unique ID user_id in ClassMarker</span>
<span style="color: #000000">test_id</span><span class="cmcode-brackets">:</span>          <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Test has a unique ID in ClassMarker</span>
<span style="color: #000000">group_id</span><span class="cmcode-brackets">:</span>         <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Group has a unique ID in ClassMarker</span>
<span style="color: #000000">time_started</span><span class="cmcode-brackets">:</span>     <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Because Registered users can <span style="color: #4EA353; font-weight: bold">Retake</span> their Tests (if allowed) use the time_started Timestamp
                     to understand if this is an <span style="color: #4EA353; font-weight: bold"><i>Updated</i></span> Test result (Regraded) OR a <span style="color: #4EA353; font-weight: bold"><i>New</i></span> Test result.
                     E.G: <i>time_started</i> Timestamps are never updated, so if you receive the same timestamp twice
                          for the same Users Test, then these results must have been resent manually.</span>


		  <span style="color: #ce5c00; font-weight: bold">##</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">Link results:</span> Identify unique individuals results using: link_result_id</span>

<span style="color: #000000">link_result_id</span><span class="cmcode-brackets">:</span>   <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Link results has a unique Link Result ID</span>
<span style="color: #000000">view_results_url</span><span class="cmcode-brackets">:</span> <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Unique URL per Test result for viewing formatted Test results back on ClassMarker (without being logged into a ClassMarker account). An Access control password is required for viewing access. Set this password on your My account page.</span>


		  <span style="color: #ce5c00; font-weight: bold">##</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">Questions:</span> Questions work the same for both Groups and Links</span>

<span style="color: #000000">question_id</span><span class="cmcode-brackets">:</span>      <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Question has a unique ID in ClassMarker</span>
<span style="color: #000000">question_type</span><span class="cmcode-brackets">:</span>    <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Available Question types include:</span>
                  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">multiplechoice:</span> Covers "Multiple choice" and "Multiple response" Questions. Graded by ClassMarker.</span>
                  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">truefalse:</span> "True / False" Question. Graded by ClassMarker.</span>
                  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">freetext:</span> "Free text" Questions. Users type a short answer. Graded by ClassMarker.</span>
                  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">matching:</span> "Matching" Questions. User select a Match for each Clue. Graded by ClassMarker.</span>
                  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">essay:</span> "Essay" Questions. User can write a long answer. Graded by account Administrator. <a href="index.html#sendupdated">Learn more</a>.</span>
                  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">grammar:</span> "Grammar" Questions. Check punctuation and Grammer. Graded by ClassMarker.</span>

<span style="color: #000000">category_id</span><span class="cmcode-brackets">:</span>      <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Question can be categorized. Each Category created has a unique ID.</span>
<span style="color: #000000">points_available</span><span class="cmcode-brackets">:</span> <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Total points question is worth. Points can be to one decimal place.</span>
<span style="color: #000000">question</span><span class="cmcode-brackets">:</span>         <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Question text. Can contain HTML formatting.</span>
<span style="color: #000000">options</span><span class="cmcode-brackets">:</span>          <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Contains answer options for Multiple choice/response, Free Text and Matching Questions. Can contain HTML formatting.</span>
<span style="color: #000000">points_scored</span><span class="cmcode-brackets">:</span>    <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Points given for the answer. Points can be to one decimal place.</span>
<span style="color: #000000">user_response</span><span class="cmcode-brackets">:</span>    <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Test takers' selected option OR typed answer. If no answer was given, no "user_response" key will exist.</span>
<span style="color: #000000">result</span><span class="cmcode-brackets">:</span>           <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">If answer was: correct / partial_correct / incorrect / requires_grading / unanswered.</span>
<span style="color: #000000">feedback</span><span class="cmcode-brackets">:</span>         <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Feedback for this answer. If no Feedback exists for a Question, "feedback" key will exist. Can contain HTML formatting.</span>
<span style="color: #000000">custom_feedback</span><span class="cmcode-brackets">:</span>  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">"custom_feedback" is only used for Essay Questions. Administrators can add when grading Essay Questions.</span>


                  <span style="color: #ce5c00; font-weight: bold">##</span> <span class="cmcode-names"><span style="color: #4EA353; font-weight: bold">Category results:</span> Category results derived from Question points.</span>

<span style="color: #000000">category_id</span><span class="cmcode-brackets">:</span>      <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Question can be categorized. Each Category created has a unique ID.</span>
<span style="color: #000000">name</span><span class="cmcode-brackets">:</span>             <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Name given to Category by Administrator.</span>
<span style="color: #000000">percentage</span><span class="cmcode-brackets">:</span>       <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Percentage can be to one decimal place.</span>
<span style="color: #000000">points_available</span><span class="cmcode-brackets">:</span> <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Points can be to one decimal place.</span>
<span style="color: #000000">points_scored</span><span class="cmcode-brackets">:</span>    <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Points can be to one decimal place.</span>

</pre>
				</div>


			</div>








			<a id="codeexample"></a>
			<div class="clearheight"></div>
			<div class="manualItem">

				<h3>Retrieve Quiz Results via Webhooks</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>


				<h4 class="underline">Webhook Code Examples</h4>
				<p>You can use these code examples to receive and verify Webhook Payloads from ClassMarker.</p>


				<ol class="manual">
					<li>Add the code below to a public accessible URL on your server (which you should keep a secret)</li>
					<li>Create a Webhook in ClassMarker via your My Account / Webhooks page</li>
					<li>Add your public accessible URL to the Endpoint box</li>
					<li>Select the Save button</li>
					<li>Copy your WEBHOOK SECRET PHRASE from ClassMarker and replace it in your app. SEE: YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE</li>
					<li>Back on your webhooks page, Check the 'Save and Verify' checkbox</li>
					<li>Select the Save button</li>
					<li>You will then see the header response your Web servers sent back such as 200 (or 404 if your Endpoint URL is incorrect)</li>
					<li>With a 2XX response, your Webhook will then be Active and can now be selected when assigning Tests to be taken.</li>
					<li><a href="index.html#respondwebhook">How Your Server Should Respond</a></li>
				</ol>


				<strong>Note</strong>
				<ul class="manual">
					<li>HTTP signature header sent as: <strong>X-Classmarker-Hmac-Sha256</strong></li>
				</ul>

				<h4><i class="fa fa-github" aria-hidden="true"></i> Github Code Examples Also Available</h4>
				<p><a href="https://github.com/classmarker/retrieve-quiz-results-webhooks-php" class="popup">Quiz maker Webhooks receive quiz results using PHP</a><br>
				<a href="https://github.com/classmarker/retrieve-quiz-results-webhooks-ruby" class="popup">Quiz maker Webhooks receive quiz results using Ruby</a><br>
				<a href="https://github.com/classmarker/retrieve-quiz-results-webhooks-python" class="popup">Quiz maker Webhooks receive quiz results using Python</a><br>
				<a href="https://github.com/classmarker/retrieve-quiz-results-webhooks-go" class="popup">Quiz maker Webhooks receive quiz results using Go</a><br>
				<a href="https://github.com/classmarker/retrieve-quiz-results-webhooks-node" class="popup">Quiz maker Webhooks receive quiz results using Node</a><br>
				<a href="https://github.com/classmarker/retrieve-quiz-results-webhooks-java" class="popup">Quiz maker Webhooks receive quiz results using Java</a><br>
				<a href="https://github.com/classmarker/retrieve-quiz-results-webhooks-csharp" class="popup">Quiz maker Webhooks receive quiz results using C#</a></p>

				<div class="clearheight30"></div>
				<div class="hide">
					PHP Webhook code example for quiz maker to receive quiz results in real time<br>
					Ruby Webhook code example for quiz maker to receive quiz results in real time<br>
					Go Webhook code example for quiz maker to receive quiz results in real time<br>
					Python Webhook code example for quiz maker to receive quiz results in real time<br>
					C# Webhook code example for quiz maker to receive quiz results in real time<br>
					Java Webhook code example for quiz maker to receive quiz results in real time<br>
				</div>

				<script>
					$(document).ready(function(){
						$('p.code_buttons span').click(function() {
							$('p.code_buttons span').removeClass('selected');
							$(this).addClass('selected');
						});
					});
				</script>
				<p class="code_buttons">
					<span class="wonderBtn selected"><a href="index.html#" id="toggroup_01_webhook_code_example_php">PHP</a></span>
					<span class="wonderBtn "><a href="index.html#" id="toggroup_01_webhook_code_example_ruby">Ruby</a></span>
					<span class="wonderBtn "><a href="index.html#" id="toggroup_01_webhook_code_example_python">Python</a></span>
					<span class="wonderBtn "><a href="index.html#" id="toggroup_01_webhook_code_example_go">Go</a></span>
					<span class="wonderBtn "><a href="index.html#" id="toggroup_01_webhook_code_example_nodejs">Node</a></span>
					<span class="wonderBtn "><a href="index.html#" id="toggroup_01_webhook_code_example_csharp">C#</a></span>
					<span class="wonderBtn "><a href="index.html#" id="toggroup_01_webhook_code_example_java">Java</a></span>
				 </p>

				<div class="cmcode-box">
					<div id="dotoggroup_01_webhook_code_example_php">
					<pre>
<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// PHP webhooks code example by ClassMarker.com</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// See: https://www.classmarker.com/online-testing/api/webhooks/</span>


<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// You are given a uniqu secret cod when creating a Wbhook.</span>
<span class="cmcode-function">define</span><span class="cmcode-brackets">(</span><span class="cmcode-value-str">'CLASSMARKER_WEBHOOK_SECRET'</span><span class="cmcode-brackets">,</span> <span class="cmcode-value-str">'YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE'</span><span class="cmcode-brackets">);</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Verification function.</span>
<span class="cmcode-stop-words">function</span> <span class="cmcode-function ">verify_classmarker_webhook</span><span class="cmcode-brackets">(</span><span class="cmcode-variable ">$json_data</span><span class="cmcode-brackets">,</span> <span class="cmcode-variable ">$header_hmac_signature</span><span class="cmcode-brackets">)</span>
<span class="cmcode-brackets">{</span>

	<span class="cmcode-variable ">$calculated_signature</span> <span class="cmcode-operator">=</span> <span class="cmcode-function">base64_encode</span><span class="cmcode-brackets">(</span><span class="cmcode-function">hash_hmac</span><span class="cmcode-brackets">(</span><span class="cmcode-value-str">'sha256'</span><span class="cmcode-brackets">,</span> <span class="cmcode-variable ">$json_data</span><span class="cmcode-brackets">,</span> <span class="cmcode-value-str">CLASSMARKER_WEBHOOK_SECRET</span><span class="cmcode-brackets">,</span> <span class="cmcode-value-bool">true</span><span class="cmcode-brackets">));</span>
	<span class="cmcode-stop-words">return</span> <span class="cmcode-brackets">(</span><span class="cmcode-variable ">$header_hmac_signature</span> <span class="cmcode-operator">==</span> <span class="cmcode-variable ">$calculated_signature</span><span class="cmcode-brackets">);</span>

<span class="cmcode-brackets">}</span>


<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// ClassMarker sent signatur to chck against.</span>
<span style="color: #000000">$header_hmac_signature</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">$_SERVER</span><span class="cmcode-brackets">[</span><span class="cmcode-value-str">'HTTP_X_CLASSMARKER_HMAC_SHA256'</span><span class="cmcode-brackets">];</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// ClassMarker JSON payload (The Tst Results).</span>
<span style="color: #000000">$json_string_payload</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87">file_get_contents</span><span class="cmcode-brackets">(</span><span class="cmcode-value-str">'php://input'</span><span class="cmcode-brackets">);</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Call vrification function.</span>
<span style="color: #000000">$verified</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">verify_classmarker_webhook</span><span class="cmcode-brackets">(</span><span style="color: #000000">$json_string_payload</span><span class="cmcode-brackets">,</span> <span style="color: #000000">$header_hmac_signature</span><span class="cmcode-brackets">);</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Add JSON payload to array for rferencing elements.</span>
<span style="color: #000000">$array_payload</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87">json_decode</span><span class="cmcode-brackets">(</span><span style="color: #000000">$json_string_payload</span><span class="cmcode-brackets">,</span> <span class="cmcode-names">true</span><span class="cmcode-brackets">);</span>

<span class="cmcode-names">if</span> <span class="cmcode-brackets">(</span><span style="color: #000000">$verified</span><span class="cmcode-brackets">)</span>
<span class="cmcode-brackets">{</span>

	<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Notify ClassMarker you have recived the Wbhook.</span>
	<span style="color: #000000">http_response_code</span><span class="cmcode-brackets">(</span><span class="cmcode-value-num">200</span><span class="cmcode-brackets">);</span>

	<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Save results in your databas.</span>
	<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Important: Do not use a script that will tak a long time to respond.</span>

<span class="cmcode-brackets">}</span> <span class="cmcode-names">else </span> <span class="cmcode-brackets">{</span>

	<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Something went wrong.</span>
	<span style="color: #000000">http_response_code</span><span class="cmcode-brackets">(</span><span class="cmcode-value-num">400</span><span class="cmcode-brackets">);</span>

<span class="cmcode-brackets">}</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// DEBUGGING: Log results directly to a text file to chck we are receiving them.</span>
<span class="cmcode-function">define</span><span class="cmcode-brackets">(</span><span class="cmcode-value-str">'DEBUGGING'</span><span class="cmcode-brackets">,</span> <span class="cmcode-value-str">false</span><span class="cmcode-brackets">);</span>

<span class="cmcode-names">if</span> <span class="cmcode-brackets">(</span><span style="color: #000000">DEBUGGING</span><span class="cmcode-brackets">)</span>
<span class="cmcode-brackets">{</span>
    <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Open file in same dirctory to write test results JSON to.</span>
    <span class="cmcode-variable">$file =</span> <span class="cmcode-function">fopen</span><span class="cmcode-variable">("log.txt", "w");</span>

    <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Note: Each webhook requst will overwrite the last logged entry.</span>
    <span class="cmcode-function">fwrite</span><span class="cmcode-variable">($file,</span> <span class="cmcode-function">date</span><span class="cmcode-variable">("D jS M Y g:ia",</span> <span class="cmcode-function">time</span><span class="cmcode-variable ">() ) . "\n\n" . $json_string_payload);</span>

    <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Close file handler.</span>
    <span class="cmcode-function">fclose</span><span class="cmcode-variable">($file);</span>

<span class="cmcode-brackets">}</span>
</pre>
					</div>

					<div id="dotoggroup_01_webhook_code_example_ruby" class="hide">
					<pre>
<span style="color: #8f5902; font-style: italic;font-family: Verdana;"># RUBY webhooks code example by ClassMarker.com</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;"># See: https://www.classmarker.com/online-testing/api/webhooks/</span>


<span style="color: #204a87">require</span> <span style="color: #4e9a06">&#39;base64&#39;</span>
<span style="color: #204a87">require</span> <span style="color: #4e9a06">&#39;openssl&#39;</span>

<span style="color: #204a87; font-weight: bold">class</span> <span style="color: #000000">ClassmarkerController</span> <span style="color: #ce5c00; font-weight: bold">&lt;</span> <span style="color: #000000">ApplicationController</span>

  <span style="color: #8f5902; font-style: italic;font-family: Verdana;"># no ned for CSRF</span>
  <span style="color: #000000">skip_before_action</span> <span style="color: #4e9a06">:verify_authenticity_token</span>

  <span style="color: #000000">before_action</span> <span style="color: #4e9a06">:verify_hmac_signature</span>
  <span style="color: #000000">before_action</span> <span style="color: #4e9a06">:verify_payload_json</span>

  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">webhook</span>
    <span style="color: #000000">save_webhook_data</span> <span style="color: #000000">request</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">raw_post</span>

    <span style="color: #8f5902; font-style: italic;font-family: Verdana;"># Notify ClassMarker you have recived the Wbhook.</span>
    <span style="color: #000000">head</span> <span style="color: #4e9a06">:ok</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">private</span>

  <span style="color: #204a87; font-weight: bold">class</span> <span style="color: #000000">InvalidPayloadError</span> <span style="color: #ce5c00; font-weight: bold">&lt;</span> <span style="color: #000000">StandardError</span>
    <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">initialize</span>
      <span style="color: #204a87; font-weight: bold">super</span> <span style="color: #4e9a06">&#39;Payload must be valid JSON&#39;</span>
    <span style="color: #204a87; font-weight: bold">end</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">class</span> <span style="color: #000000">InvalidHMACError</span> <span style="color: #ce5c00; font-weight: bold">&lt;</span> <span style="color: #000000">StandardError</span>
    <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">initialize</span>
      <span style="color: #204a87; font-weight: bold">super</span> <span style="color: #4e9a06">&#39;Invalid HMAC signature&#39;</span>
    <span style="color: #204a87; font-weight: bold">end</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">verify_hmac_signature</span>
    <span style="color: #204a87; font-weight: bold">raise</span> <span style="color: #000000">InvalidHMACError</span> <span style="color: #204a87; font-weight: bold">unless</span> <span style="color: #000000">hmac_header_valid?</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">verify_payload_json</span>
    <span style="color: #204a87; font-weight: bold">raise</span> <span style="color: #000000">InvalidPayloadError</span> <span style="color: #204a87; font-weight: bold">unless</span> <span style="color: #000000">payload_json?</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">save_webhook_data</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">data</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">directory</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">Rails</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">root</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">join</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;webhook_data&#39;</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #204a87; font-weight: bold">unless</span> <span style="color: #000000">File</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">exist?</span> <span style="color: #000000">directory</span>
      <span style="color: #000000">FileUtils</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">mkdir_p</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">directory</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #204a87; font-weight: bold">end</span>

    <span style="color: #000000">filename</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">File</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">join</span> <span style="color: #000000">directory</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">timestamped_filename</span>

    <span style="color: #000000">File</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">open</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">filename</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#39;w&#39;</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">do</span> <span style="color: #ce5c00; font-weight: bold">|</span><span style="color: #000000">file</span><span style="color: #ce5c00; font-weight: bold">|</span>
      <span style="color: #000000">file</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">puts</span> <span style="color: #000000">data</span>
    <span style="color: #204a87; font-weight: bold">end</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">hmac_header_valid?</span>
    <span style="color: #000000">headerVal</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">request</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">headers</span><span style="color: #ce5c00; font-weight: bold">[</span><span style="color: #4e9a06">&#39;HTTP_X_CLASSMARKER_HMAC_SHA256&#39;</span><span style="color: #ce5c00; font-weight: bold">]</span>
    <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #204a87; font-weight: bold">false</span> <span style="color: #204a87; font-weight: bold">unless</span> <span style="color: #000000">headerVal</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">present?</span>

    <span style="color: #000000">expected</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">headerVal</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">split</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">/,/</span><span style="color: #000000; font-weight: bold">)</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">first</span>
    <span style="color: #000000">actual</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">calculate_signature</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">request</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">raw_post</span><span style="color: #000000; font-weight: bold">)</span>

    <span style="color: #4e9a06">ActiveSupport</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #4e9a06">:SecurityUtils</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">secure_compare</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">actual</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">expected</span><span style="color: #000000; font-weight: bold">)</span>
  <span style="color: #204a87; font-weight: bold">end</span>


  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">calculate_signature</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">data</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">secret</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&#39;YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE&#39;</span>

    <span style="color: #000000">digest</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">OpenSSL</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #4e9a06">:Digest</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">new</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;sha256&#39;</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">calculated_hmac</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">Base64</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">encode64</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">OpenSSL</span><span style="color: #000000; font-weight: bold">:</span><span style="color: #4e9a06">:HMAC</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">digest</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">digest</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">secret</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">data</span><span style="color: #000000; font-weight: bold">))</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">strip</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">payload_json?</span>
    <span style="color: #000000">JSON</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">parse</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">request</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">raw_post</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #204a87; font-weight: bold">true</span>
  <span style="color: #204a87; font-weight: bold">rescue</span>
    <span style="color: #204a87; font-weight: bold">false</span>
  <span style="color: #204a87; font-weight: bold">end</span>

  <span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">timestamped_filename</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">extension</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&#39;.json&#39;</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">Time</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">now</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">strftime</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;%Y-%m-%d_%H-%M-%S&#39;</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #ce5c00; font-weight: bold">+</span> <span style="color: #000000">extension</span>
  <span style="color: #204a87; font-weight: bold">end</span>
<span style="color: #204a87; font-weight: bold">end</span>
</pre>
					</div>

					<div id="dotoggroup_01_webhook_code_example_python" class="hide">
					<pre>
<span style="color: #8f5902; font-style: italic;font-family: Verdana;"># PYTHON wbhooks code example by ClassMarker.com</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;"># See: https://www.classmarker.com/online-testing/api/webhooks/</span>


<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">json</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">hmac</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">hashlib</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">base64</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">os</span>
<span style="color: #204a87; font-weight: bold">from</span> <span style="color: #000000">datetime</span> <span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">datetime</span>

<span style="color: #204a87; font-weight: bold">from</span> <span style="color: #000000">django.shortcuts</span> <span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">render</span>
<span style="color: #204a87; font-weight: bold">from</span> <span style="color: #000000">django.http</span> <span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">HttpResponse</span>
<span style="color: #204a87; font-weight: bold">from</span> <span style="color: #000000">django.conf</span> <span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">settings</span>
<span style="color: #204a87; font-weight: bold">from</span> <span style="color: #000000">django.views.decorators.csrf</span> <span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">csrf_exempt</span>

<span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">index</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">request</span><span style="color: #000000; font-weight: bold">):</span>
    <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">HttpResponse</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;Hello, world.&quot;</span><span style="color: #000000; font-weight: bold">)</span>

<span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">verify_payload</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">payload</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">header_hmac_signature</span><span style="color: #000000; font-weight: bold">):</span>

    <span style="color: #000000">webhook_secret</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&quot;YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE&quot;</span>
    <span style="color: #000000">dig</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">hmac</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">new</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">webhook_secret</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">encode</span><span style="color: #000000; font-weight: bold">(),</span> <span style="color: #000000">msg</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #000000">payload</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">digestmod</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #000000">hashlib</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">sha256</span><span style="color: #000000; font-weight: bold">)</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">digest</span><span style="color: #000000; font-weight: bold">()</span>
    <span style="color: #000000">calculated_signature</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">base64</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">b64encode</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">dig</span><span style="color: #000000; font-weight: bold">)</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">decode</span><span style="color: #000000; font-weight: bold">()</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">encode</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;ascii&#39;</span><span style="color: #000000; font-weight: bold">,</span><span style="color: #4e9a06">&#39;ignore&#39;</span><span style="color: #000000; font-weight: bold">)</span>

    <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">hmac</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">compare_digest</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">calculated_signature</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">header_hmac_signature</span><span style="color: #000000; font-weight: bold">)</span>

<span style="color: #5c35cc; font-weight: bold">@csrf_exempt</span>
<span style="color: #204a87; font-weight: bold">def</span> <span style="color: #000000">webhook_view</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">request</span><span style="color: #000000; font-weight: bold">):</span>
    <span style="color: #000000">hmac_header</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">request</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">META</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">get</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;HTTP_X_CLASSMARKER_HMAC_SHA256&#39;</span><span style="color: #000000; font-weight: bold">)</span>

    <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000">verify_payload</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">request</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">body</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">hmac_header</span><span style="color: #000000; font-weight: bold">):</span>
        <span style="color: #000000">json_data</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">json</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">loads</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">request</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">body</span><span style="color: #000000; font-weight: bold">)</span>
        <span style="color: #000000">filename</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&#39;json_data_{}.json&#39;</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">format</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">datetime</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">now</span><span style="color: #000000; font-weight: bold">())</span>
        <span style="color: #204a87; font-weight: bold">with</span> <span style="color: #204a87">open</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">filename</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#39;w&#39;</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">as</span> <span style="color: #000000">fileobj</span><span style="color: #000000; font-weight: bold">:</span>
            <span style="color: #000000">json</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #000000">dump</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">json_data</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">fileobj</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">indent</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #0000cf; font-weight: bold">4</span><span style="color: #000000; font-weight: bold">)</span>

        <span style="color: #8f5902; font-style: italic;font-family: Verdana;"># Notify ClassMarker you have rceived the Wbhook.</span>
        <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">HttpResponse</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;OK&quot;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">status</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #0000cf; font-weight: bold">200</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #204a87; font-weight: bold">else</span><span style="color: #000000; font-weight: bold">:</span>
        <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">HttpResponse</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;Fail&quot;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">status</span><span style="color: #ce5c00; font-weight: bold">=</span><span style="color: #0000cf; font-weight: bold">400</span><span style="color: #000000; font-weight: bold">)</span>
</pre>


					</div>

					<div id="dotoggroup_01_webhook_code_example_go" class="hide">
					<pre>
<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// GO wbhooks code example by ClassMarker.com</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// See: https://www.classmarker.com/online-testing/api/webhooks/</span>


<span style="color: #204a87; font-weight: bold">package</span> <span style="color: #000000">main</span>

<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000; font-weight: bold">(</span>
	<span style="color: #4e9a06">&quot;crypto/hmac&quot;</span>
	<span style="color: #4e9a06">&quot;crypto/sha256&quot;</span>
	<span style="color: #4e9a06">&quot;encoding/base64&quot;</span>
	<span style="color: #4e9a06">&quot;io/ioutil&quot;</span>
	<span style="color: #4e9a06">&quot;log&quot;</span>
	<span style="color: #4e9a06">&quot;net/http&quot;</span>
	<span style="color: #4e9a06">&quot;fmt&quot;</span>
<span style="color: #000000; font-weight: bold">)</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// You are given a unique scret code when creating a wbhook.</span>
<span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">ClassmarkerWebhookSecret</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #4e9a06">&quot;YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE&quot;</span>

<span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">WebHook</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">w</span> <span style="color: #000000">http</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">ResponseWriter</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">r</span> <span style="color: #ce5c00; font-weight: bold">*</span><span style="color: #000000">http</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Request</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>

	<span style="color: #000000">body</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">err</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000">ioutil</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">ReadAll</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">r</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Body</span><span style="color: #000000; font-weight: bold">)</span>
	<span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000">err</span> <span style="color: #ce5c00; font-weight: bold">!=</span> <span style="color: #204a87; font-weight: bold">nil</span> <span style="color: #000000; font-weight: bold">{</span>
		<span style="color: #000000">log</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;Error reading body: &quot;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">err</span><span style="color: #000000; font-weight: bold">)</span>
		<span style="color: #000000">w</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">WriteHeader</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">http</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">StatusBadRequest</span><span style="color: #000000; font-weight: bold">)</span>
		<span style="color: #204a87; font-weight: bold">return</span>
	<span style="color: #000000; font-weight: bold">}</span>
	<span style="color: #000000">jsonData</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #204a87">string</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">body</span><span style="color: #000000; font-weight: bold">)</span>

	<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// ClassMarker snt signature to chck against</span>
	<span style="color: #000000">headerHmacSignature</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000">r</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Header</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Get</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;X-Classmarker-Hmac-Sha256&quot;</span><span style="color: #000000; font-weight: bold">)</span>
	<span style="color: #000000">verified</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000">VerifyClassmarkerWebhook</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">jsonData</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">headerHmacSignature</span><span style="color: #000000; font-weight: bold">)</span>

	<span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000">verified</span> <span style="color: #000000; font-weight: bold">{</span>
		<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Save results in your database.</span>
		<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Important: Do not use a script that will take a long time to respond.</span>

		<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Notify ClassMarker you have recived the Wbhook.</span>
		<span style="color: #000000">w</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">WriteHeader</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">http</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">StatusOK</span><span style="color: #000000; font-weight: bold">)</span>
	<span style="color: #000000; font-weight: bold">}</span> <span style="color: #204a87; font-weight: bold">else</span> <span style="color: #000000; font-weight: bold">{</span>
		<span style="color: #000000">w</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">WriteHeader</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">http</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">StatusBadRequest</span><span style="color: #000000; font-weight: bold">)</span>
	<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">VerifyClassmarkerWebhook</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">jsonData</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">headerHmacSignature</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">bool</span> <span style="color: #000000; font-weight: bold">{</span>
	<span style="color: #000000">calculatedSignature</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000">ComputeHmac256</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">jsonData</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">ClassmarkerWebhookSecret</span><span style="color: #000000; font-weight: bold">)</span>
	<span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">headerHmacSignature</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #000000">calculatedSignature</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">ComputeHmac256</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">message</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">secret</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">string</span> <span style="color: #000000; font-weight: bold">{</span>
	<span style="color: #000000">key</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000; font-weight: bold">[]</span><span style="color: #204a87">byte</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">secret</span><span style="color: #000000; font-weight: bold">)</span>
	<span style="color: #000000">h</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000">hmac</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">New</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">sha256</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">New</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">key</span><span style="color: #000000; font-weight: bold">)</span>
	<span style="color: #000000">h</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Write</span><span style="color: #000000; font-weight: bold">([]</span><span style="color: #204a87">byte</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">message</span><span style="color: #000000; font-weight: bold">))</span>
	<span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">base64</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">StdEncoding</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">EncodeToString</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">h</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sum</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">nil</span><span style="color: #000000; font-weight: bold">))</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">main</span><span style="color: #000000; font-weight: bold">()</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #000000">http</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">HandleFunc</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;/webhook&quot;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">WebHook</span><span style="color: #000000; font-weight: bold">)</span>
    <span style="color: #000000">http</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">ListenAndServe</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;:8080&quot;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #204a87; font-weight: bold">nil</span><span style="color: #000000; font-weight: bold">)</span>
<span style="color: #000000; font-weight: bold">}</span>
</pre>
					</div>

					<div id="dotoggroup_01_webhook_code_example_csharp" class="hide">
					<pre>
<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// C# wbhooks code example by ClassMarker.com</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// See: https://www.classmarker.com/online-testing/api/webhooks/</span>


<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">Newtonsoft.Json</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.Collections.Generic</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.IO</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.Linq</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.Net</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.Net.Http</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.Security.Cryptography</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.Threading.Tasks</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000">System.Web.Http</span><span style="color: #000000; font-weight: bold">;</span>

<span style="color: #204a87; font-weight: bold">namespace</span> <span style="color: #000000">cSharp.Controllers</span>
<span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #204a87; font-weight: bold">public</span> <span style="color: #204a87; font-weight: bold">class</span> <span style="color: #000000">WebHookController</span> <span style="color: #000000; font-weight: bold">:</span> <span style="color: #000000">ApiController</span>
    <span style="color: #000000; font-weight: bold">{</span>
        <span style="color: #204a87; font-weight: bold">private</span> <span style="color: #204a87; font-weight: bold">string</span> <span style="color: #000000">SECRET_KEY</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #4e9a06">&quot;YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE&quot;</span><span style="color: #000000; font-weight: bold">;</span>

<span style="color: #c4a000">        [HttpPost]</span>
<span style="color: #c4a000">        [Route(&quot;api/webhook&quot;)]</span>
        <span style="color: #204a87; font-weight: bold">public</span> <span style="color: #204a87; font-weight: bold">async</span> <span style="color: #000000">Task</span><span style="color: #000000; font-weight: bold">&lt;</span><span style="color: #000000">IHttpActionResult</span><span style="color: #000000; font-weight: bold">&gt;</span> <span style="color: #000000">ProcessWebHook</span><span style="color: #000000; font-weight: bold">()</span>
        <span style="color: #000000; font-weight: bold">{</span>
            <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">payloadJson</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">await</span> <span style="color: #000000">Request</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Content</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">ReadAsStringAsync</span><span style="color: #000000; font-weight: bold">();</span>

            <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">(!</span><span style="color: #204a87; font-weight: bold">await</span> <span style="color: #000000">PayloadSignatureMatchesHeader</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">))</span>
            <span style="color: #000000; font-weight: bold">{</span>
                <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">Unauthorized</span><span style="color: #000000; font-weight: bold">();</span>
            <span style="color: #000000; font-weight: bold">}</span>

            <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">payloadJson</span> <span style="color: #000000; font-weight: bold">==</span> <span style="color: #204a87; font-weight: bold">null</span><span style="color: #000000; font-weight: bold">)</span>
            <span style="color: #000000; font-weight: bold">{</span>
                <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">BadRequest</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;Invalid object&quot;</span><span style="color: #000000; font-weight: bold">);</span>
            <span style="color: #000000; font-weight: bold">}</span>

            <span style="color: #000000">SaveToFile</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">);</span>

            <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Notify ClassMarker you have rceived the Wbhook.</span>
            <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">Ok</span><span style="color: #000000; font-weight: bold">();</span>

        <span style="color: #000000; font-weight: bold">}</span>

        <span style="color: #204a87; font-weight: bold">private</span> <span style="color: #204a87; font-weight: bold">void</span> <span style="color: #000000">SaveToFile</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">string</span> <span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">)</span>
        <span style="color: #000000; font-weight: bold">{</span>
            <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">pathFile</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #4e9a06">@&quot;c:/temp/log.txt&quot;</span><span style="color: #000000; font-weight: bold">;</span>

            <span style="color: #000000">File</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">AppendAllText</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">pathFile</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">);</span>
        <span style="color: #000000; font-weight: bold">}</span>


        <span style="color: #204a87; font-weight: bold">private</span> <span style="color: #204a87; font-weight: bold">async</span> <span style="color: #000000">Task</span><span style="color: #000000; font-weight: bold">&lt;</span><span style="color: #204a87; font-weight: bold">bool</span><span style="color: #000000; font-weight: bold">&gt;</span> <span style="color: #000000">PayloadSignatureMatchesHeader</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">string</span> <span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">)</span>
        <span style="color: #000000; font-weight: bold">{</span>
            <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">hashFromHeader</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #000000">Request</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Headers</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">GetValues</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;X-Classmarker-Hmac-Sha256&quot;</span><span style="color: #000000; font-weight: bold">).</span><span style="color: #000000">FirstOrDefault</span><span style="color: #000000; font-weight: bold">();</span>
            <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">hashFromPayload</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #000000">GenerateSHA256FromPayload</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">);</span>
            <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">hashFromPayload</span> <span style="color: #000000; font-weight: bold">==</span> <span style="color: #000000">hashFromHeader</span><span style="color: #000000; font-weight: bold">;</span>
        <span style="color: #000000; font-weight: bold">}</span>


        <span style="color: #204a87; font-weight: bold">private</span> <span style="color: #204a87; font-weight: bold">string</span> <span style="color: #000000">GenerateSHA256FromPayload</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">string</span> <span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">)</span>
        <span style="color: #000000; font-weight: bold">{</span>
            <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">encoding</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">new</span> <span style="color: #000000">System</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Text</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">ASCIIEncoding</span><span style="color: #000000; font-weight: bold">();</span>
            <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">keyByte</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #000000">encoding</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">GetBytes</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">SECRET_KEY</span><span style="color: #000000; font-weight: bold">);</span>
            <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">payloadBytes</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #000000">encoding</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">GetBytes</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">payloadJson</span><span style="color: #000000; font-weight: bold">);</span>

            <span style="color: #204a87; font-weight: bold">using</span> <span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">hmacsha256</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">new</span> <span style="color: #000000">HMACSHA256</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">keyByte</span><span style="color: #000000; font-weight: bold">))</span>
            <span style="color: #000000; font-weight: bold">{</span>
                <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">hashmessage</span> <span style="color: #000000; font-weight: bold">=</span> <span style="color: #000000">hmacsha256</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">ComputeHash</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">payloadBytes</span><span style="color: #000000; font-weight: bold">);</span>
                <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">Convert</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">ToBase64String</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">hashmessage</span><span style="color: #000000; font-weight: bold">);</span>
            <span style="color: #000000; font-weight: bold">}</span>
        <span style="color: #000000; font-weight: bold">}</span>

    <span style="color: #000000; font-weight: bold">}</span>
<span style="color: #000000; font-weight: bold">}</span>
</pre>

					</div>

					<div id="dotoggroup_01_webhook_code_example_java" class="hide">
					<pre>
<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// JAVA wbhooks code xample by ClassMarker.com</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// See: https://www.classmarker.com/online-testing/api/webhooks/</span>


<span style="color: #204a87; font-weight: bold">package</span> <span style="color: #000000">com</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">classmarker</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">webhook</span><span style="color: #ce5c00; font-weight: bold">;</span>

<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">javax.crypto.Mac</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">javax.crypto.spec.SecretKeySpec</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">javax.servlet.annotation.WebServlet</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">javax.servlet.http.HttpServlet</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">javax.servlet.http.HttpServletRequest</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">javax.servlet.http.HttpServletResponse</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.io.File</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.io.FileOutputStream</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.io.IOException</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.nio.charset.StandardCharsets</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.security.InvalidKeyException</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.security.NoSuchAlgorithmException</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.util.Base64</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.util.Date</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.util.Objects</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.util.Enumeration</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.util.stream.Collectors</span><span style="color: #ce5c00; font-weight: bold">;</span>
<span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000">java.util.Base64</span><span style="color: #ce5c00; font-weight: bold">;</span>

<span style="color: #5c35cc; font-weight: bold">@WebServlet</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #4e9a06">&quot;/webhook&quot;</span><span style="color: #ce5c00; font-weight: bold">)</span>
<span style="color: #204a87; font-weight: bold">public</span> <span style="color: #204a87; font-weight: bold">class</span> <span style="color: #000000">WebhookServlet</span> <span style="color: #204a87; font-weight: bold">extends</span> <span style="color: #000000">HttpServlet</span> <span style="color: #ce5c00; font-weight: bold">{</span>

    <span style="color: #5c35cc; font-weight: bold">@Override</span>
    <span style="color: #204a87; font-weight: bold">protected</span> <span style="color: #204a87; font-weight: bold">void</span> <span style="color: #000000">doPost</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">HttpServletRequest</span> <span style="color: #000000">httpServletRequest</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">HttpServletResponse</span> <span style="color: #000000">httpServletResponse</span><span style="color: #ce5c00; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">throws</span> <span style="color: #000000">IOException</span> <span style="color: #ce5c00; font-weight: bold">{</span>
        <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// You are given a uniqu secret code when crating a Wbhook.</span>
        <span style="color: #000000">String</span> <span style="color: #000000">classmarkerSecretPhrase</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&quot;YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE&quot;</span><span style="color: #ce5c00; font-weight: bold">;</span>

        <span style="color: #000000">String</span> <span style="color: #000000">jsonStringPayload</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">httpServletRequest</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">getReader</span><span style="color: #ce5c00; font-weight: bold">().</span><span style="color: #c4a000">lines</span><span style="color: #ce5c00; font-weight: bold">().</span><span style="color: #c4a000">collect</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">Collectors</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">joining</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">System</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">lineSeparator</span><span style="color: #ce5c00; font-weight: bold">()));</span>
        <span style="color: #000000">String</span> <span style="color: #000000">headerHmacSignature</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">httpServletRequest</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">getHeader</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #4e9a06">&quot;x-classmarker-hmac-sha256&quot;</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #204a87; font-weight: bold">boolean</span> <span style="color: #000000">isVerifiedSuccessfully</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">false</span><span style="color: #ce5c00; font-weight: bold">;</span>

        <span style="color: #204a87; font-weight: bold">try</span> <span style="color: #ce5c00; font-weight: bold">{</span>
            <span style="color: #000000">isVerifiedSuccessfully</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">verifyWebhook</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">jsonStringPayload</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">headerHmacSignature</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">classmarkerSecretPhrase</span><span style="color: #ce5c00; font-weight: bold">);</span>
        <span style="color: #ce5c00; font-weight: bold">}</span> <span style="color: #204a87; font-weight: bold">catch</span> <span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">InvalidKeyException</span> <span style="color: #ce5c00; font-weight: bold">|</span> <span style="color: #000000">NoSuchAlgorithmException</span> <span style="color: #000000">exception</span><span style="color: #ce5c00; font-weight: bold">)</span> <span style="color: #ce5c00; font-weight: bold">{</span>
            <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// handle xception hre			 </span>
        <span style="color: #ce5c00; font-weight: bold">}</span>

        <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">isVerifiedSuccessfully</span><span style="color: #ce5c00; font-weight: bold">)</span> <span style="color: #ce5c00; font-weight: bold">{</span>
            <span style="color: #000000">saveToFile</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #4e9a06">&quot;json_data_&quot;</span> <span style="color: #ce5c00; font-weight: bold">+</span> <span style="color: #204a87; font-weight: bold">new</span> <span style="color: #000000">Date</span><span style="color: #ce5c00; font-weight: bold">()</span> <span style="color: #ce5c00; font-weight: bold">+</span> <span style="color: #4e9a06">&quot;.json&quot;</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">jsonStringPayload</span><span style="color: #ce5c00; font-weight: bold">);</span>

            <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Notify ClassMarker you have rceived the Wbhook.</span>
            <span style="color: #000000">httpServletResponse</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">setStatus</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">HttpServletResponse</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">SC_OK</span><span style="color: #ce5c00; font-weight: bold">);</span>
        <span style="color: #ce5c00; font-weight: bold">}</span>
        <span style="color: #204a87; font-weight: bold">else</span><span style="color: #ce5c00; font-weight: bold">{</span>
            <span style="color: #000000">httpServletResponse</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">setStatus</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">HttpServletResponse</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">SC_INTERNAL_SERVER_ERROR</span><span style="color: #ce5c00; font-weight: bold">);</span>
        <span style="color: #ce5c00; font-weight: bold">}</span>

    <span style="color: #ce5c00; font-weight: bold">}</span>

    <span style="color: #204a87; font-weight: bold">private</span> <span style="color: #204a87; font-weight: bold">boolean</span> <span style="color: #000000">verifyWebhook</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">String</span> <span style="color: #000000">jsonData</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">String</span> <span style="color: #000000">headerHmacSignature</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">String</span> <span style="color: #000000">classmarkerSecretPhrase</span><span style="color: #ce5c00; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">throws</span> <span style="color: #000000">InvalidKeyException</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">NoSuchAlgorithmException</span> <span style="color: #ce5c00; font-weight: bold">{</span>
        <span style="color: #204a87; font-weight: bold">byte</span><span style="color: #ce5c00; font-weight: bold">[]</span> <span style="color: #000000">hashHMacBytes</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">hashHMac</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">jsonData</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">classmarkerSecretPhrase</span><span style="color: #ce5c00; font-weight: bold">);</span>
        <span style="color: #000000">String</span> <span style="color: #000000">calculatedSignature</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">Base64</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">getEncoder</span><span style="color: #ce5c00; font-weight: bold">().</span><span style="color: #c4a000">encodeToString</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">hashHMacBytes</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">Objects</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">equals</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">headerHmacSignature</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">calculatedSignature</span><span style="color: #ce5c00; font-weight: bold">);</span>
    <span style="color: #ce5c00; font-weight: bold">}</span>

    <span style="color: #204a87; font-weight: bold">private</span> <span style="color: #204a87; font-weight: bold">byte</span><span style="color: #ce5c00; font-weight: bold">[]</span> <span style="color: #000000">hashHMac</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">String</span> <span style="color: #000000">sourceString</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">String</span> <span style="color: #000000">key</span><span style="color: #ce5c00; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">throws</span> <span style="color: #000000">InvalidKeyException</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">NoSuchAlgorithmException</span> <span style="color: #ce5c00; font-weight: bold">{</span>
        <span style="color: #000000">String</span> <span style="color: #000000">HMAC_SHA256</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&quot;HmacSHA256&quot;</span><span style="color: #ce5c00; font-weight: bold">;</span>
        <span style="color: #000000">Mac</span> <span style="color: #000000">sha512HMAC</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">Mac</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">getInstance</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">HMAC_SHA256</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #204a87; font-weight: bold">byte</span><span style="color: #ce5c00; font-weight: bold">[]</span> <span style="color: #000000">keyBytes</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">key</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">getBytes</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">StandardCharsets</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">US_ASCII</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #000000">SecretKeySpec</span> <span style="color: #000000">secretKeySpec</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">new</span> <span style="color: #000000">SecretKeySpec</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">keyBytes</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">HMAC_SHA256</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #000000">sha512HMAC</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">init</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">secretKeySpec</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">sha512HMAC</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">doFinal</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">sourceString</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">getBytes</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">StandardCharsets</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">US_ASCII</span><span style="color: #ce5c00; font-weight: bold">));</span>
    <span style="color: #ce5c00; font-weight: bold">}</span>

    <span style="color: #204a87; font-weight: bold">private</span> <span style="color: #204a87; font-weight: bold">void</span> <span style="color: #000000">saveToFile</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">String</span> <span style="color: #000000">fileName</span><span style="color: #ce5c00; font-weight: bold">,</span> <span style="color: #000000">String</span> <span style="color: #000000">content</span><span style="color: #ce5c00; font-weight: bold">)</span> <span style="color: #204a87; font-weight: bold">throws</span> <span style="color: #000000">IOException</span> <span style="color: #ce5c00; font-weight: bold">{</span>
        <span style="color: #000000">File</span> <span style="color: #000000">file</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">new</span> <span style="color: #000000">File</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">fileName</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #000000">FileOutputStream</span> <span style="color: #000000">fileOutputStream</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">new</span> <span style="color: #000000">FileOutputStream</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">file</span><span style="color: #ce5c00; font-weight: bold">);</span>

        <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// If fil doesn&#39;t xists, then crate it.</span>
        <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #ce5c00; font-weight: bold">(!</span><span style="color: #000000">file</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">exists</span><span style="color: #ce5c00; font-weight: bold">())</span> <span style="color: #ce5c00; font-weight: bold">{</span>
            <span style="color: #000000">file</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">createNewFile</span><span style="color: #ce5c00; font-weight: bold">();</span>
        <span style="color: #ce5c00; font-weight: bold">}</span>

        <span style="color: #000000">fileOutputStream</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">write</span><span style="color: #ce5c00; font-weight: bold">(</span><span style="color: #000000">content</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">getBytes</span><span style="color: #ce5c00; font-weight: bold">());</span>
        <span style="color: #000000">fileOutputStream</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">flush</span><span style="color: #ce5c00; font-weight: bold">();</span>
        <span style="color: #000000">fileOutputStream</span><span style="color: #ce5c00; font-weight: bold">.</span><span style="color: #c4a000">close</span><span style="color: #ce5c00; font-weight: bold">();</span>
    <span style="color: #ce5c00; font-weight: bold">}</span>
<span style="color: #ce5c00; font-weight: bold">}</span>
</pre>
					</div>

					<div id="dotoggroup_01_webhook_code_example_nodejs" class="hide">
					<pre>
<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Node.js wbhooks code xample by ClassMarker.com</span>

<span style="color: #8f5902; font-style: italic;font-family: Verdana;">// See: https://www.classmarker.com/online-testing/api/webhook</span>

<span style="color: #204a87; font-weight: bold">const</span> <span style="color: #000000">express</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">require</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;express&#39;</span><span style="color: #000000; font-weight: bold">);</span>
<span style="color: #204a87; font-weight: bold">const</span> <span style="color: #000000">app</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">express</span><span style="color: #000000; font-weight: bold">();</span>
<span style="color: #204a87; font-weight: bold">const</span> <span style="color: #000000">bodyParser</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">require</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;body-parser&#39;</span><span style="color: #000000; font-weight: bold">);</span>
<span style="color: #204a87; font-weight: bold">const</span> <span style="color: #000000">forge</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">require</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;node-forge&#39;</span><span style="color: #000000; font-weight: bold">);</span>


<span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">rawBodySaver</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">function</span> <span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">req</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">res</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">buf</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">encoding</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
  <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">buf</span> <span style="color: #ce5c00; font-weight: bold">&amp;&amp;</span> <span style="color: #000000">buf</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">length</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #000000">req</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">rawBody</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">buf</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">toString</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">encoding</span> <span style="color: #ce5c00; font-weight: bold">||</span> <span style="color: #4e9a06">&#39;utf8&#39;</span><span style="color: #000000; font-weight: bold">);</span>
  <span style="color: #000000; font-weight: bold">}</span>
<span style="color: #000000; font-weight: bold">}</span>

<span style="color: #000000">app</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">use</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">bodyParser</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">json</span><span style="color: #000000; font-weight: bold">({</span> <span style="color: #000000">verify</span><span style="color: #ce5c00; font-weight: bold">:</span> <span style="color: #000000">rawBodySaver</span> <span style="color: #000000; font-weight: bold">}));</span>
<span style="color: #000000">app</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">use</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">bodyParser</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">urlencoded</span><span style="color: #000000; font-weight: bold">({</span> <span style="color: #000000">verify</span><span style="color: #ce5c00; font-weight: bold">:</span> <span style="color: #000000">rawBodySaver</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">extended</span><span style="color: #ce5c00; font-weight: bold">:</span> <span style="color: #204a87; font-weight: bold">true</span> <span style="color: #000000; font-weight: bold">}));</span>
<span style="color: #000000">app</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">use</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">bodyParser</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">raw</span><span style="color: #000000; font-weight: bold">({</span> <span style="color: #000000">verify</span><span style="color: #ce5c00; font-weight: bold">:</span> <span style="color: #000000">rawBodySaver</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">type</span><span style="color: #ce5c00; font-weight: bold">:</span> <span style="color: #4e9a06">&#39;*/*&#39;</span> <span style="color: #000000; font-weight: bold">}));</span>


<span style="color: #000000">app</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">listen</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">8080</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #204a87; font-weight: bold">function</span> <span style="color: #000000; font-weight: bold">()</span> <span style="color: #000000; font-weight: bold">{</span>
  <span style="color: #000000">console</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">log</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;Example app listening on port 8080!&#39;</span><span style="color: #000000; font-weight: bold">)</span>
<span style="color: #000000; font-weight: bold">});</span>


<span style="color: #000000">app</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">post</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;/webhook&#39;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #204a87; font-weight: bold">function</span> <span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">req</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">res</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>

    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">headerHmacSignature</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">req</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">get</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&quot;X-Classmarker-Hmac-Sha256&quot;</span><span style="color: #000000; font-weight: bold">);</span>

    <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// You are given a unique secret code when creating a Webhook.</span>
    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">secret</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #4e9a06">&#39;YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE&#39;</span><span style="color: #000000; font-weight: bold">;</span>

    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">verified</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">verifyData</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">req</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">rawBody</span><span style="color: #000000; font-weight: bold">,</span><span style="color: #000000">headerHmacSignature</span><span style="color: #000000; font-weight: bold">,</span><span style="color: #000000">secret</span><span style="color: #000000; font-weight: bold">);</span>

    <span style="color: #204a87; font-weight: bold">if</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">verified</span><span style="color: #000000; font-weight: bold">){</span>
        <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Save results in your database.</span>
        <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Important: Do not use a script that will take a long tim to respond.</span>

        <span style="color: #8f5902; font-style: italic;font-family: Verdana;">// Notify ClassMarker you have recived the Wbhook.</span>
        <span style="color: #000000">res</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">sendStatus</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">200</span><span style="color: #000000; font-weight: bold">);</span>
    <span style="color: #000000; font-weight: bold">}</span> <span style="color: #204a87; font-weight: bold">else</span> <span style="color: #000000; font-weight: bold">{</span>
        <span style="color: #000000">res</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">sendStatus</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">400</span><span style="color: #000000; font-weight: bold">);</span>
    <span style="color: #000000; font-weight: bold">}</span>

<span style="color: #000000; font-weight: bold">});</span>

<span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">verifyData</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">function</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">rawBody</span><span style="color: #000000; font-weight: bold">,</span><span style="color: #000000">headerHmacSignature</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">secret</span><span style="color: #000000; font-weight: bold">)</span>
<span style="color: #000000; font-weight: bold">{</span>
    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">jsonHmac</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">computeHmac</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">rawBody</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">secret</span><span style="color: #000000; font-weight: bold">);</span>
    <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">jsonHmac</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #000000">headerHmacSignature</span><span style="color: #000000; font-weight: bold">;</span>
<span style="color: #000000; font-weight: bold">};</span>

<span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">computeHmac</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">function</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">rawBody</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">secret</span><span style="color: #000000; font-weight: bold">){</span>
    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">hmac</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">forge</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">hmac</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">create</span><span style="color: #000000; font-weight: bold">();</span>
    <span style="color: #000000">hmac</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">start</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#39;sha256&#39;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">secret</span><span style="color: #000000; font-weight: bold">);</span>
    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">jsonString</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">rawBody</span><span style="color: #000000; font-weight: bold">;</span>
    <span style="color: #204a87; font-weight: bold">var</span> <span style="color: #000000">jsonBytes</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #204a87; font-weight: bold">new</span> <span style="color: #000000">Buffer</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">jsonString</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#39;ascii&#39;</span><span style="color: #000000; font-weight: bold">);</span>
    <span style="color: #000000">hmac</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">update</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">jsonBytes</span><span style="color: #000000; font-weight: bold">);</span>
    <span style="color: #204a87; font-weight: bold">return</span> <span style="color: #000000">forge</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">util</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">encode64</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">hmac</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">digest</span><span style="color: #000000; font-weight: bold">().</span><span style="color: #000000">bytes</span><span style="color: #000000; font-weight: bold">());</span>
<span style="color: #000000; font-weight: bold">};</span>
</pre>

					</div>
				</div>


			</div>


			<a id="databasescheme"></a>
			<div class="manualItem">
				<h4 class="underline">Database Scheme</h4>
				<p>Because our <strong>API</strong> and <strong>Webhooks</strong> both handle the same Test results data (Questions, Responses and Category results not included), you can use the same database table schema design to store your results.</p>
				<p>Even if designing your own tables, the table schema included in the <strong>Example code zip</strong> will give you a reference of table <i>column types</i>.</p>
				<p>Go to our <a href="../developers/index.html#codeexamples">API Documentation</a> and download the <strong>Example code zip</strong> file for more details.</p>
			</div>

			<a id="sendsample"></a>
			<div class="manualItem">
				<h4 class="underline">Sending Sample Results</h4>
				<p>You do not need Results saved to test out your Webhook script.</p>
				<p>You can send sample Test results directly from ClassMarker when you Create or Edit your Webhook in ClassMarker.</p>
				<p>Learn how to setup a Webhook for your Account in our <a href="../../manual/index.html#api_webhooks">User Manual</a>.</p>
				<p><strong>Testing code on your Localhost?</strong> You may find <a href="https://ngrok.com/">https://ngrok.com/</a> useful to setup a secure URL to your localhost server.</p>
			</div>

			<a id="sendrealtime"></a>
			<div class="manualItem">
				<h4 class="underline">Sending Results in Real Time</h4>
				<p><strong>Important:</strong> You first need to assign the Webhook to your Group and/or Link when assigning your Test.</p>
				<p>If a Test is already assigned: Go to your 'Tests' page and Click 'Settings' next to the Group or Link.</p>
				<p><img class="fluid-img img-shadow" src="https://www.classmarker.com/img3/api/set-webhook-setting.png" alt="Online exam wehooks settings" ></p>
				<p>You can use the same Webhook across all your Groups and Link, OR, create multiple webhooks for separate Groups and Links.</p>
				<p>When you have a Webhook assigned to a Test, when the Test in completed, the results will be sent in Real Time to your Webhook Endpoint Url.</p>
			</div>

			<a id="sendexisting"></a>
			<div class="manualItem">
				<h4 class="underline">Send Existing Saved Results Manually</h4>
				<p>If you have previously saved results, that have not yet been sent to your Webhook, you can send those results via your Webhook manually from individual Test results pages.</p>
				<p><img class="fluid-img img-shadow" src="https://www.classmarker.com/img3/api/trigger-webhook.png" alt="Online exam wehooks settings" ></p>
				<p>Note: A Webhook must be assigned to your Test to manually send results with. This can be done before or after the Test has been taken.</p>
				<p>Alternatively see our <a href="../developers/index.html">API Documentation</a> to request multiple results at once.</p>
			</div>


			<a id="viewresultsurl"></a>
			<div class="manualItem">
				<h4 class="underline">View Results URL</h4>
				<p>Give access to colleagues who need to review <strong>Formatted Test Results</strong> (including Questions and Answers) without them needing a ClassMarker account.</p>
				<p>See parameter: <strong>view_results_url</strong></p>
				<p>Including this URL is optional and needs to be turned on in the <strong>Webhook settings</strong> page. Each URL is unique and unguessable.</p>

				<p class="bold"><strong>IMPORTANT: Allow Viewing Access to: view_results_url</strong></p>
				<ol class="manual">
					<li>Go to your My account page in ClassMarker</li>
					<li>Scroll down to the 'API' setting box</li>
					<li>Select your control settings</li>
					<li>Save: Select 'Update Access Settings' button</li>
				</ol>
				<div class="clearheight"></div>
				<p class="bold">Access Control options include:</p>
				<ul class="manual">
					<li>Password Protection</li>
					<li>Expire URL after X Days or Months</li>
					<li>Hide Test Taker Details for Anonymous grading</li>
					<li>Allow Grading</li>
					<li>Allow Submitting New Graded Results via Webhooks</li>
				</ul>
				<p><i class="fa fa-download" aria-hidden="true"></i> Download our: <a href="https://www.classmarker.com/docs/ClassMarker-Integration.pdf" class="popup">Quiz API Integration Guide</a> for your Web developers.</p>
			</div>

			<a id="sendupdated"></a>
			<div class="manualItem">
				<h4 class="underline">IMPORTANT: Receiving "Updated" Results</h4>
				<p>After Exams are completed, (E.G. After you receive the original Results Payload), the results may:
					<br>1. Require grading (Essay Question types only)
					<br>2. Be re-graded manually (Administrators may want to change points for an answer)
					<br>In these cases, results can then be manually resent via the Webhook (performed from the results pages after grading) to update your system with the upgraded score.</p>

				<p>So we recommend you build your script 'that receives Webhooks', to first check if the result already exists and update it rather then insert it again.</p>

				<p><strong>Use these fields below to see if a "Test result" already exists in your database, then you can update the result rather than duplicate it.</strong></p>

				<p><strong>-- Unique <i>Group Results</i> Fields --</strong>
				<br>Note: The same Test can be assigned to multiple Groups, so you need to check the Group ID along with Test ID, E.G. The same User (ID) could take the same Test (ID) under multiple Groups.</p>
				<div class="cmcode-box">
					<pre>

                <span style="color: #ce5c00; font-weight: bold">##</span> <span class="cmcode-names">These 4 values together will be unique per test, per user</span>

<span style="color: #000000">user_id</span><span class="cmcode-brackets">:</span>        <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each registered User has a unique ID user_id in ClassMarker</span>
<span style="color: #000000">test_id</span><span class="cmcode-brackets">:</span>        <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Test has a unique ID in ClassMarker</span>
<span style="color: #000000">group_id</span><span class="cmcode-brackets">:</span>       <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Each Group has a unique ID in ClassMarker</span>
<span style="color: #000000">time_started</span><span class="cmcode-brackets">:</span>   <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Because Registered users can <span style="color: #4EA353; font-weight: bold">Retake</span> their Tests (if allowed) use the time_started Timestamp
		   to understand if this is an <span style="color: #4EA353; font-weight: bold"><i>Updated</i></span> Test result (Regraded) OR a <span style="color: #4EA353; font-weight: bold"><i>New</i></span> Test result.
		   E.G: <i>time_started</i> Timestamps are never updated, so if you receive the same timestamp twice
			for the same Users Test, then these results must have been resent manually.</span>

</pre>
				</div>

				<div class="clearheight"></div>
				<p><strong>-- Unique <i>Link Results</i> Fields --</strong>
					<br>Each Link results has a unique Link Result ID.</p>
				<div class="cmcode-box">
					<pre>

                 <span style="color: #ce5c00; font-weight: bold">##</span> <span class="cmcode-names">Each Link results has a unique Link Result ID</span>

<span style="color: #000000">link_result_id</span><span class="cmcode-brackets">:</span>  <span style="color: #ce5c00; font-weight: bold">//</span> <span class="cmcode-names">Simply use the <i>link_result_id</i> to check if this is
                    an <span style="color: #4EA353; font-weight: bold"><i>Updated</i></span> Test result or a <span style="color: #4EA353; font-weight: bold"><i>New</i></span> Test result </span>

</pre>
				</div>

			</div>


			<a id="htmlformatting"></a>
			<div class="manualItem">
				<h4 class="underline">HTML formatting in Exam Questions &amp; Feedback</h4>
				<p>Questions (including Answer options) and Feedback fields can contain HTML formatting as set by Administrators on our Wysiwyg editors (EG: span, br, b, i, u, a, img). These HTML TAGs will be sent as plain HTML ready for display on the web.</p>

				<p>Any non HTML formatting tags will be turned into html entities (so they will display the HTML tags rather than pass them). For example a Question might ask "What HTML tag is this TAG: &lt;br&gt;?", this will display the break TAG, not create a line break.</p>
				<p><strong>Important:</strong> Because a Users can type text responses in some question types, such as free text or essay questions, you must convert special characters in this text to HTML entities so HTML is displayed on the page as HTML TAGs, and not parsed.</p>
			</div>



			<a id="versioning"></a>
			<div class="manualItem">
				<h4 class="underline">Version control</h4>
				<p>Ensure you reference the JSON keys by name, to ensure any additional KEYs added in the future will not break your scripts.</p>
				<p>Future upgrades may add, but not change or remove JSON Keys. No 'structure' changes are expected.</p>
				<p>ClassMarker will notify customers by email with 30 days notice if new versions require any changes, but this is not expected.</p>
			</div>


			<a id="retryrules"></a>
			<div class="clearheight"></div>
			<div class="manualItem">

				<h3>Failed Payload Retry Rules</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>
				<div class="clearheight"></div>
				<p>We understand getting results back to your system in real time can be critical, that's why ClassMarker will retry a failed Webhook within minutes of it first failing.
					This is in case your system has a brief issue at the exact time of the payload delivery, results will still be delivered soon after.</p>
				<h4 class="underline">Failed Webhook Scenario</h4>
				<ol class="manual">
					<li>When a Quiz is finished, the First Webhook attempt is triggered.</li>
					<li>If the Webhook fails (a 2XX response is not received), it is tried a second time within minutes.</li>
					<li>If the Webhook fails the second time, ClassMarker will then reattempt the single Quiz result webhook <strong>once per hour</strong> for <strong>72 hours</strong>.</li>
					<li>If your website fails to successfully respond to Webhooks <strong>1,000 times 'in a row'</strong> (this includes retry attempts for all results it is trying to send), the Webhook will be set to inactive and will no longer attempt to deliver new results or retry undelivered results until you Activate the Webhook again.</li>
					<li>If you have multiple Webhooks set up, only the Webhook that has failed 1,000 times 'in a row', will be set as inactive. Your other Webhooks will continue to run as normal.</li>
				</ol>

				<p>Note: When a Webhook is inactive, Test results are not sent and are not enabled for a retry, you will need to send those Test results using your Webhook manually from the results pages instead.</p>
				<p>Note: If your Webhook has, for example, 7 failed requests in a row, then it sends a successful 2XX response, the failed requests count will reset from 7 back to 0.</p>

				<p><strong>Email alerts</strong><br>ClassMarker will send you an email alert the first time a Webhook fails, then periodically on failed attempts until either your Webhook Endpoint starts returning 2XX responses again, or your Webhook becomes inactive, in which case you will be notified it has become inactive.</p>

			</div>








			<a id="verify"></a>
			<div class="clearheight"></div>
			<div class="manualItem">

				<h3>How to Verifiy Webhook Payloads</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>
				<div class="clearheight"></div>
				<p>When a Webhook Payload is delivered to your system, you can verify it came from ClassMarker by using the <strong>Secret Phrase</strong> you will receive when creating your Webhook.
					Only you and ClassMarker will know your unique Secret Phrase.</p>
				<p>ClassMarker creates a signature (base64 hash using HMAC SHA256) using the JSON payload and your Secret Phrase, and sends the signature in the HTTP header: <strong>X-Classmarker-Hmac-Sha256</strong> for you to use to verify on your end.</p>

				<p>To verify the Payload came from ClassMarker, encrypt your JSON payload with ClassMarkers Webhook secret.</p>

				<div class="cmcode-box">
					<pre><span style="color: #8f5902; font-style: italic">// PHP Verify Webhook code example by ClassMarker.com</span>


<span class="cmcode-function">define</span><span class="cmcode-brackets">(</span><span class="cmcode-value-str">'CLASSMARKER_WEBHOOK_SECRET'</span><span class="cmcode-brackets">,</span> <span class="cmcode-value-str">'YOUR_CLASSMARKER_WEBHOOK_SECRET_PHRASE'</span><span class="cmcode-brackets">);</span>

<span class="cmcode-variable ">$calculated_signature</span> <span class="cmcode-operator">=</span> <span class="cmcode-function">base64_encode</span><span class="cmcode-brackets">(</span><span class="cmcode-function">hash_hmac</span><span class="cmcode-brackets">(</span><span class="cmcode-value-str">'sha256'</span><span class="cmcode-brackets">,</span> <span class="cmcode-variable ">$json_data</span><span class="cmcode-brackets">,</span> <span class="cmcode-value-str">CLASSMARKER_WEBHOOK_SECRET</span><span class="cmcode-brackets">,</span> <span class="cmcode-value-bool">true</span><span class="cmcode-brackets">));</span>

<span style="color: #000000">$header_hmac_signature</span> <span style="color: #ce5c00; font-weight: bold">=</span> <span style="color: #000000">$_SERVER</span><span class="cmcode-brackets">[</span><span class="cmcode-value-str">'HTTP_X_CLASSMARKER_HMAC_SHA256'</span><span class="cmcode-brackets">];</span>

<span class="cmcode-stop-words">return</span> <span class="cmcode-brackets">(</span><span class="cmcode-variable ">$header_hmac_signature</span> <span class="cmcode-operator">==</span> <span class="cmcode-variable ">$calculated_signature</span><span class="cmcode-brackets">);</span>

</pre>
				</div>

				<p>View: <a href="index.html#codeexample">Full code examples and more languages above</a></p>

				<p>For other code examples in your required language, search "<i>Examples of creating base64 hashes using HMAC SHA256 in different languages</i>"</p>

			</div>


			<div class="manualItem">
				<h4 class="underline">https://webhook.site for Debugging (Third party website)</h4>
				<p>You can also use services such as <a href="https://webhook.site" class="popup">https://webhook.site</a> to view Test results sent via your Webhook. https://webhook.site which will give you a unique URL to use as your temporary Endpoint URL.</p>
				<p>After you add the https://webhook.site URL to your Endpoint URL (when creating or editing your Webhook), and you can view the 'Sample Test results' ClassMarker sends when saving and verifying your Webhook.</p>
				<ol class="manual">
					<li>Go to https://webhook.site to get your unique URL</li>
					<li>Add the https://webhook.site URL to your Endpoint URL (when creating or editing your Webhook).</li>
					<li>Check the 'Save and Verify' checkbox</li>
					<li>Select the Save button</li>
					<li>You can now view the 'Sample Test results' in https://webhook.site</li>
				</ol>
			</div>


			<div class="manualItem">
				<h4 class="underline">payload_status: Verify VS Live</h4>
				<p><strong>payload_status</strong> will read  "payload_status":"<strong>verify</strong>" when using the Verification option from your Edit webhooks page.</p>
				<p><strong>payload_status</strong> will read  "payload_status":"<strong>live</strong>" when real Test results are being sent.</p>
				<p>See: <a href="index.html#json_keys_explained">JSON Keys explained</a> for more information.</p>
			</div>


			<div class="manualItem">
				<h4 class="underline">Troubleshoot: Check your System (Third party website)</h4>
				<p>If you are having any issues receiving results, you can check your system responses with <a href="http://onlinecurl.com/" class="popup">http://onlinecurl.com/</a></p>
				<p>This may highlight for example, a SSL certificate issue, or another cause your system is not functionality correctly.</p>
			</div>





			<a id="respondwebhook"></a>
			<div class="clearheight"></div>
			<div class="manualItem">

				<h3>How Your Server Should Respond</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>
				<div class="clearheight"></div>
				<p>Your server should respond with a 200 or any 2XX HTTP RESPONSE CODE, no body response is required.</p>
				<p>If a 2XX response is not received, the Webhook will be <a href="index.html#retryrules">Retried</a>.</p>

				<p>To verify the Payload came from ClassMarker, encrypt your JSON payload with your unique Webhook secret.
					<br>See: <a href="index.html#verify">How to Verifiy Webhook Payloads</a></p>

				<div class="cmcode-box">
					<pre><span style="color: #8f5902; font-style: italic">// PHP Response code example by ClassMarker.com</span>


<span style="color: #000000">http_response_code</span><span class="cmcode-brackets">(</span><span class="cmcode-value-num">200</span><span class="cmcode-brackets">);</span>

</pre>
				</div>

				<p>View: <a href="index.html#codeexample">Full code examples and more languages above</a></p>

				<p>For other code examples in your required language, search "<i>Examples of creating base64 hashes using HMAC SHA256 in different languages</i>"</p>

			</div>












			<a id="explain"></a>
			<div class="clearheight"></div>
			<div class="manualItem">
				<h3>What are Groups &amp; Links?</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>
				<div class="clearheight"></div>
				<div  class="api-image">
					<img class="fluid-img" src="https://www.classmarker.com/img3/api/how-to-give-tests.png" alt="Groups &amp; Links explained" >
				</div>
				<div class="clearheight"></div>
				<p>ClassMarker administrators have the opportunity to assign (distribute) exams in two ways:</p>
				<ol class="manual">
					<li><strong>Groups</strong><br>By registering users into groups (handy for school classrooms or work place employee groups/departments).
						<br>Note: The same Exam can be assigned to multiple groups.</li>
					<li><strong>Links</strong><br>By creating a unique direct link and distributing this link either via email or by adding/embedding it in a web page (no pre registration required for Test takers).
						<br>Note: The same Exam can have multiple direct links to help keep results separated for different groups of users, or use separate settings such as different time limits.</li>
				</ol>
				<p>Learn More: <a href="../../manual/index.html#assign" class="popup">Giving access to exams</a>.</p>
				<p>
					When retrieving JSON Exam results from ClassMarker via Webhooks, you can tell if it is a Group or Link result because there will be either a Group or Link element in the JSON payload. See examples above.
				</p>

				<ol class="manual">
					<li><strong>Groups (Registered users)</strong><br><br>
						<strong>Referenced as:</strong> Groups<br>
						<br>Each Group can have multiple Exams assigned to them. Group members log
						into ClassMarker.com to take Exams assigned to their Group.<br>Registered users can also be registered in multiple Groups, which allows them to change between Groups when they are logged in and take any Exams available to their Groups.<br><br></li>

					<li><strong>Links (Non registered Users)</strong><br><br>
						<strong>Referenced as:</strong> Links<br><br>
						Each Link can
						only contain one Exam and has a unique link (quiz_id parameter) to access the Exam.
						(Public and private access options are available when
						administering Exams via Direct link).</li>
				</ol>

			</div>









			<a id="passdata"></a>
			<div class="clearheight"></div>
			<div class="manualItem">

				<h3>Pass Data to ClassMarker (Pre Test)</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>
				<div class="clearheight"></div>
				<p>When testing with our Links option, you can pass your Test takers data
					such as their Name, Email or their user_id from your system.</p>
				<p>This data is saved in ClassMarker and returned with respective Webhook payloads.</p>
				<p>This makes passing Test takers tracking details to ClassMarker easy to reference exam results back in your system.</p>
				<p>More about <a href="../../docs/index.html">Integrating your online testing</a></p>



			</div>






			<a id="thirdparty"></a>
			<div class="clearheight"></div>
			<div class="manualItem">

				<h3>Third Party Integrations</h3>
				<div class="floatr">
					<a href="index.html#top" class="mantop">^ Top</a>
				</div>
				<div class="clearheight"></div>
				<p>You can also use ClassMarker Webhooks to send Exam results directly to third party services.</p>
				<p><a href="https://zapier.com" class="popup">https://zapier.com</a> is a service that can receive Webhooks from ClassMarker,
					and send Test results to a third party service of your choice.</p>
				<p><strong>For example:</strong> You can have a Test takers "Name, Email address and Test score"
					added to a Google Spreadsheet the moment an exam is finished for Lead Generation, or have your customers Test scores updated in your CRM system or Online Recruiting Portal.</p>

				<ol class="manual">
					<li>In your Zappier account, create a zap of your choice using "Webhooks by Zappier" option and the third party service you which to integrate Test scores with.</li>
					<li>Copy your "unique Webhook URL" from Zappier for use in the next step</li>
					<li>Back in ClassMarker, create a Webhook and use the Zappier "unique Webhook URL" from the step above and the Endpoint URL</li>
				</ol>
				<p>Once you have set up your "ZAP" on Zappier and "Webhook" on ClassMarker, you can then assign your Webhook to a Group or Link via their settings and your integration will start working.</p>

				<p><strong>Zappier Help:</strong></p>
				<ol class="manual">
					<li>See: <a href="https://zapier.com/page/webhooks/" class="popup">Zappier Webhook Introduction Video</a></li>
					<li>Learn how to <a href="https://zapier.com/apps/webhook/help#accessing-nested-elements" class="popup">Access Nested Elements in Zappier</a> from ClassMarker Webhook data</li>
					<li>View the many services you can integrate your Exam results into with: <a href="https://zapier.com/zapbook/webhook/" class="popup">Webhooks with Zappier</a></li>
				</ol>

			</div>



			<div class="manualItem">

				<h3>Share Your Find With Colleagues</h3>

				<p>
					<a href="http://www.facebook.com/share.php?u=http://www.classmarker.com/online-testing/api/developers/"	target="_blank"><img src="../../../img3/icons/facebook_x32.png" height="32" width="32" alt="Visit ClassMarker on Facebook"></a>
					<a class="cm-twitter popup" href="https://twitter.com/home?status=www.classmarker.com%20-%20Professional%20online%20testing.%20No%20more%20marking%20test%20papers.%20Instant%20test%20results.%20API%20Available."><img src="../../../img3/icons/twitter_x32.png" height="32" width="32" alt="Visit ClassMarker on Twitter"></a>
				</p>

			</div>



		</div>
	</div>
</div><footer id="footer">
		<div class="col-full">
			<ul class="footer-list1">
				<li><a href="../../../index.html">Home</a></li>
				<li><a href="../../index.html">About ClassMarker</a></li>
				<li><a href="../../terms/index.html">Terms</a> / <a href="../../privacy/index.html">Privacy</a></li>
				<li></li>
				<li><a href="../../quiz-features/index.html#online-quiz-security">Security</a></li>
				<li><a href="../../blog/index.html">Blog</a></li>
				<li><a href="../../sitemap/index.html">Site map</a></li>

			</ul>
			<ul class="footer-list2">
				<li><a href="../../manual/index.html">User Manual / Screenshots</a></li>
				<li><a href="../../create-language-tests/index.html">Quiz Language Support</a></li>
				<li><a href="../../docs/index.html">Quiz Maker API</a></li>
				<li><a href="../../partners/index.html">Partners</a> / <a href="../../customers/index.html" title="Review Clients">Clients</a></li>
				<li><a href="../../../register/index.html">Register</a></li>
				<li><a href="../../contact-us/index.html">Contact Us</a></li>
			</ul>

			<div class="footer-content">
				<div class="social_toolbox">
					<a href="https://www.facebook.com/classmarker/" class="popup"><img src="../../../img3/icons/facebook_x32.png" height="24" width="24" alt="Visit ClassMarker on Facebook"></a>
					<a class="cm-twitter popup" href="https://twitter.com/classmarker/"><img src="../../../img3/icons/twitter_x32.png" height="24" width="24" alt="Visit ClassMarker on Twitter"></a>
					
				</div>
				<div class="social_rating">
					<div>
						<img alt="Hosted online testing quiz maker" src="../../../img3/home/rating-full.png" width="16" height="16" >
						<img alt="Hosted online testing quiz maker" src="../../../img3/home/rating-full.png" width="16" height="16" >
						<img alt="Hosted online testing quiz maker" src="../../../img3/home/rating-full.png" width="16" height="16" >
						<img alt="Hosted online testing quiz maker" src="../../../img3/home/rating-full.png" width="16" height="16" >
						<img alt="Hosted online testing quiz maker" src="../../../img3/home/rating-full.png" width="16" height="16" >
						<a href="https://www.g2.com/products/classmarker/reviews" class="popup">Rated 4.4 out of 5</a>
					</div>
				</div>
				<h4>
					<a href="../../../index.html">
						<img alt="Hosted online testing quiz maker" src="../../../img3/retina/free-quiz-maker@1x.png" srcset="../../../img3/retina/free-quiz-maker@1x.png 1x, ../../../img3/retina/free-quiz-maker@2x.png 2x, ../../../img3/retina/free-quiz-maker@3x.png 3x" width="156" height="22" >
						<span>ClassMarker</span>
					</a>
				</h4>
				<p>Copyright &copy; 2006 - 2022 ClassMarker Pty Ltd. All rights reserved.</p>
			</div>
		</div>
	</footer><!-- end footer -->

		<script src="../../../js3/cmall.js?v=272"></script>
<script src="../../../js3/xbbcode.js?vs=272"></script><script src="../../../js3/jquery.slicknav.min.js?v=272"></script>
<script>$(document).ready(function(){$(function(){$('#menu').slicknav();});});</script>
		<div id="fb-root"></div>
	<div class="jqmWindowWide clearHtml" id="obj_video0"></div>
	<div class="jqmWindowWide clearHtml" id="obj_video4"></div>
	<div class="jqmWindowWide clearHtml" id="obj_video5"></div>
		<script>
			$(document).ready(function(){
				$('.select-box').customSelect();
				$('#obj_video0').jqm({ajax: '/misc/tour.rpc.php?id=video0', trigger: '.video0'});
				$('#obj_video4').jqm({ajax: '/misc/tour.rpc.php?id=video4', trigger: '.video4'});
				$('#obj_video5').jqm({ajax: '/misc/tour.rpc.php?id=video5', trigger: '.video5'});
			});
					</script>


<script>
ka_path = "/ka.php?";
</script>
<script>
(function (i, s, o, g, r, a, m) {
	i['GoogleAnalyticsObject'] = r;
	i[r] = i[r] || function () {
		(i[r].q = i[r].q || []).push(arguments)
	}, i[r].l = 1 * new Date();
	a = s.createElement(o),
		m = s.getElementsByTagName(o)[0];
	a.async = 1;
	a.src = g;
	m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-473958-2', 'auto');
ga('set', 'anonymizeIp', true);
ga('send', 'pageview');
</script>

</body></html>